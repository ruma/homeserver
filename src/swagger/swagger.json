{
    "basePath": "/_matrix/client/unstable",
    "consumes": [
        "application/json"
    ],
    "host": "localhost:8008",
    "info": {
        "title": "Matrix Client-Server API",
        "version": "unstable"
    },
    "paths": {
        "/account/3pid": {
            "get": {
                "description": "Gets a list of the third party identifiers that the homeserver has\nassociated with the user's account.\n\nThis is *not* the same as the list of third party identifiers bound to\nthe user's Matrix ID in Identity Servers.\n\nIdentifiers in this list may be used by the homeserver as, for example,\nidentifiers that it will accept to reset the user's account password.",
                "responses": {
                    "200": {
                        "description": "The lookup was successful.",
                        "examples": {
                            "application/json": "{\n  \"threepids\": [\n    {\n      \"medium\": \"email\",\n      \"address\": \"monkey@banana.island\"\n    }\n  ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "threepids": {
                                    "items": {
                                        "properties": {
                                            "address": {
                                                "description": "The third party identifier address.",
                                                "type": "string"
                                            },
                                            "medium": {
                                                "description": "The medium of the third party identifier.",
                                                "enum": [
                                                    "email"
                                                ],
                                                "type": "string"
                                            }
                                        },
                                        "title": "Third party identifier",
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Gets a list of a user's third party identifiers.",
                "tags": [
                    "User data"
                ]
            },
            "post": {
                "description": "Adds contact information to the user's account.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"three_pid_creds\": {\n    \"id_server\": \"matrix.org\",\n    \"sid\": \"abc123987\",\n    \"client_secret\": \"d0n'tT3ll\"\n  },\n  \"bind\": false\n}",
                            "properties": {
                                "bind": {
                                    "description": "Whether the homeserver should also bind this third party\nidentifier to the account's Matrix ID with the passed identity\nserver. Default: ``false``.",
                                    "type": "boolean",
                                    "x-example": true
                                },
                                "three_pid_creds": {
                                    "description": "The third party credentials to associate with the account.",
                                    "properties": {
                                        "client_secret": {
                                            "description": "The client secret used in the session with the Identity Server.",
                                            "type": "string"
                                        },
                                        "id_server": {
                                            "description": "The Identity Server to use.",
                                            "type": "string"
                                        },
                                        "sid": {
                                            "description": "The session identifier given by the Identity Server.",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "client_secret",
                                        "id_server",
                                        "sid"
                                    ],
                                    "title": "ThreePidCredentials",
                                    "type": "object"
                                }
                            },
                            "required": [
                                "three_pid_creds"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The addition was successful.",
                        "examples": {
                            "application/json": "{}",
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "403": {
                        "description": "The credentials could not be verified with the identity server.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_THREEPID_AUTH_FAILED\",\n  \"error\": \"The third party credentials could not be verified by the identity server.\"\n}"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Adds contact information to the user's account.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/account/password": {
            "post": {
                "description": "This API endpoint uses the User-Interactive Authentication API.\nAn access token should be submitted to this endpoint if the client has\nan active session.\nThe homeserver may change the flows available depending on whether a\nvalid access token is provided.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"new_password\": \"ihatebananas\"\n}",
                            "properties": {
                                "new_password": {
                                    "description": "The new password for the account.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "new_password"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The password has been changed.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Changes a user's password.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/admin/whois/{userId}": {
            "get": {
                "description": "Gets information about a particular user.\n\nThis API may be restricted to only be called by the user being looked\nup, or by a server admin. Server-local administrator privileges are not\nspecified in this document.",
                "parameters": [
                    {
                        "description": "The user to look up.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@peter:rabbit.rocks"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The lookup was successful.",
                        "examples": {
                            "application/json": "{\n  \"user_id\": \"@peter:rabbit.rocks\",\n  \"devices\": {\n    \"teapot\": {\n      \"sessions\": [\n        {\n          \"connections\": [\n            {\n              \"ip\": \"127.0.0.1\",\n              \"last_seen\": 1411996332123,\n              \"user_agent\": \"curl/7.31.0-DEV\"\n            },\n            {\n              \"ip\": \"10.0.0.2\",\n              \"last_seen\": 1411996332123,\n              \"user_agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.120 Safari/537.36\"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}"
                        },
                        "schema": {
                            "properties": {
                                "devices": {
                                    "additionalProperties": {
                                        "properties": {
                                            "sessions": {
                                                "description": "A user's sessions (i.e. what they did with an access token from one login).",
                                                "items": {
                                                    "properties": {
                                                        "connections": {
                                                            "description": "Information particular connections in the session.",
                                                            "items": {
                                                                "properties": {
                                                                    "ip": {
                                                                        "description": "Most recently seen IP address of the session.",
                                                                        "type": "string"
                                                                    },
                                                                    "last_seen": {
                                                                        "description": "Unix timestamp that the session was last active.",
                                                                        "type": "number"
                                                                    },
                                                                    "user_agent": {
                                                                        "description": "User agent string last seen in the session.",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "ConnectionInfo",
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "SessionInfo",
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "title": "DeviceInfo",
                                        "type": "object"
                                    },
                                    "description": "Each key is an identitfier for one of the user's devices.",
                                    "title": "NO_TITLE",
                                    "type": "object"
                                },
                                "user_id": {
                                    "description": "The Matrix user ID of the user.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Gets information about a particular user.",
                "tags": [
                    "Server administration"
                ]
            }
        },
        "/createRoom": {
            "post": {
                "description": "Create a new room with various configuration options.",
                "parameters": [
                    {
                        "description": "The desired room configuration.",
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"preset\": \"public_chat\",\n  \"room_alias_name\": \"thepub\",\n  \"name\": \"The Grand Duke Pub\",\n  \"topic\": \"All about happy hour\",\n  \"creation_content\": {\n      \"m.federate\": false\n  }\n}",
                            "properties": {
                                "creation_content": {
                                    "description": "Extra keys to be added to the content of the ``m.room.create``.\nThe server will clober the following keys: ``creator``. Future\nversions of the specification may allow the server to clobber\nother keys.",
                                    "title": "CreationContent",
                                    "type": "object"
                                },
                                "initial_state": {
                                    "description": "A list of state events to set in the new room. This allows\nthe user to override the default state events set in the new\nroom. The expected format of the state events are an object\nwith type, state_key and content keys set.\nTakes precedence over events set by ``presets``, but gets\noverriden by ``name`` and ``topic`` keys.",
                                    "items": {
                                        "properties": {
                                            "content": {
                                                "type": "string"
                                            },
                                            "state_key": {
                                                "type": "string"
                                            },
                                            "type": {
                                                "type": "string"
                                            }
                                        },
                                        "title": "StateEvent",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "invite": {
                                    "description": "A list of user IDs to invite to the room. This will tell the\nserver to invite everyone in the list to the newly created room.",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "invite_3pid": {
                                    "description": "A list of objects representing third party IDs to invite into\nthe room.",
                                    "items": {
                                        "properties": {
                                            "address": {
                                                "description": "The invitee's third party identifier.",
                                                "type": "string"
                                            },
                                            "id_server": {
                                                "description": "The hostname+port of the identity server which should be used for third party identifier lookups.",
                                                "type": "string"
                                            },
                                            "medium": {
                                                "description": "The kind of address being passed in the address field, for example ``email``.",
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "id_server",
                                            "medium",
                                            "address"
                                        ],
                                        "title": "Invite3pid",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "name": {
                                    "description": "If this is included, an ``m.room.name`` event will be sent\ninto the room to indicate the name of the room. See Room\nEvents for more information on ``m.room.name``.",
                                    "type": "string"
                                },
                                "preset": {
                                    "description": "Convenience parameter for setting various default state events\nbased on a preset. Must be either:\n\n``private_chat`` =>\n  ``join_rules`` is set to ``invite``.\n  ``history_visibility`` is set to ``shared``.\n\n``trusted_private_chat`` =>\n    ``join_rules`` is set to ``invite``.\n    ``history_visibility`` is set to ``shared``.\n    All invitees are given the same power level as the room creator.\n\n``public_chat``: =>\n    ``join_rules`` is set to ``public``.\n    ``history_visibility`` is set to ``shared``.",
                                    "enum": [
                                        "private_chat",
                                        "public_chat",
                                        "trusted_private_chat"
                                    ],
                                    "type": "string"
                                },
                                "room_alias_name": {
                                    "description": "The desired room alias **local part**. If this is included, a\nroom alias will be created and mapped to the newly created\nroom. The alias will belong on the *same* homeserver which\ncreated the room. For example, if this was set to \"foo\" and\nsent to the homeserver \"example.com\" the complete room alias\nwould be ``#foo:example.com``.",
                                    "type": "string"
                                },
                                "topic": {
                                    "description": "If this is included, an ``m.room.topic`` event will be sent\ninto the room to indicate the topic for the room. See Room\nEvents for more information on ``m.room.topic``.",
                                    "type": "string"
                                },
                                "visibility": {
                                    "description": "A ``public`` visibility indicates that the room will be shown\nin the published room list. A ``private`` visibility will hide\nthe room from the published room list. Rooms default to\n``private`` visibility if this key is not included. NB: This\nshould not be confused with ``join_rules`` which also uses the\nword ``public``.",
                                    "enum": [
                                        "public",
                                        "private"
                                    ],
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Information about the newly created room.",
                        "examples": {
                            "application/json": "{\n  \"room_id\": \"!sefiuhWgwghwWgh:example.com\"\n}"
                        },
                        "schema": {
                            "description": "Information about the newly created room.",
                            "properties": {
                                "room_id": {
                                    "description": "The created room's ID.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "The request body is malformed or the room alias specified is already taken.\n"
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Create a new room",
                "tags": [
                    "Room creation"
                ]
            }
        },
        "/download/{serverName}/{mediaId}": {
            "get": {
                "parameters": [
                    {
                        "description": "The server name from the ``mxc://`` URI (the authoritory component)\n",
                        "in": "path",
                        "name": "serverName",
                        "required": true,
                        "type": "string",
                        "x-example": "matrix.org"
                    },
                    {
                        "description": "The media ID from the ``mxc://`` URI (the path component)\n",
                        "in": "path",
                        "name": "mediaId",
                        "required": true,
                        "type": "string",
                        "x-example": "ascERGshawAWawugaAcauga"
                    }
                ],
                "produces": [
                    "*/*"
                ],
                "responses": {
                    "200": {
                        "description": "The content that was previously uploaded.",
                        "headers": {
                            "Content-Disposition": {
                                "description": "The name of the file that was previously uploaded, if set.",
                                "type": "string"
                            },
                            "Content-Type": {
                                "description": "The content type of the file that was previously uploaded.",
                                "type": "string"
                            }
                        },
                        "schema": {
                            "type": "file"
                        }
                    }
                },
                "summary": "Download content from the content repository.",
                "tags": [
                    "Media"
                ]
            }
        },
        "/events": {
            "get": {
                "deprecated": true,
                "description": "This will listen for new events and return them to the caller. This will\nblock until an event is received, or until the ``timeout`` is reached.",
                "parameters": [
                    {
                        "description": "The token to stream from. This token is either from a previous\nrequest to this API or from the initial sync API.",
                        "in": "query",
                        "name": "from",
                        "required": false,
                        "type": "string",
                        "x-example": "s3456_9_0"
                    },
                    {
                        "description": "The maximum time in milliseconds to wait for an event.",
                        "in": "query",
                        "name": "timeout",
                        "required": false,
                        "type": "integer",
                        "x-example": "35000"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The events received, which may be none.",
                        "examples": {
                            "application/json": "{\n  \"start\": \"s3456_9_0\",\n  \"end\": \"s3457_9_0\",\n  \"chunk\": [\n    {\n      \"age\": 32,\n      \"content\": {\n          \"body\": \"incoming message\",\n          \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14328055551tzaee:localhost\",\n      \"origin_server_ts\": 1432804485886,\n      \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@bob:localhost\"\n    }\n  ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "chunk": {
                                    "description": "An array of events.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "description": "The basic set of fields all events must have.",
                                                        "properties": {
                                                            "content": {
                                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "type": {
                                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                "properties": {
                                                    "event_id": {
                                                        "description": "Required. The globally unique event identifier.",
                                                        "type": "string"
                                                    },
                                                    "room_id": {
                                                        "description": "Required. The ID of the room associated with this event.",
                                                        "type": "string"
                                                    },
                                                    "sender": {
                                                        "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                        "type": "string"
                                                    },
                                                    "unsigned": {
                                                        "description": "Contains optional extra information about the event.",
                                                        "properties": {
                                                            "age": {
                                                                "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                "type": "integer"
                                                            },
                                                            "redacted_because": {
                                                                "description": "The reason this event was redacted, if it was redacted",
                                                                "type": "string"
                                                            },
                                                            "transaction_id": {
                                                                "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "UnsignedData",
                                                        "type": "object"
                                                    }
                                                },
                                                "required": [
                                                    "event_id",
                                                    "room_id",
                                                    "sender"
                                                ],
                                                "title": "Room Event",
                                                "type": "object"
                                            }
                                        ],
                                        "title": "Event",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "end": {
                                    "description": "A token which correlates to the last value in ``chunk``. This\ntoken should be used in the next request to ``/events``.",
                                    "type": "string"
                                },
                                "start": {
                                    "description": "A token which correlates to the first value in ``chunk``. This\nis usually the same token supplied to ``from=``.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "Bad pagination ``from`` parameter."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Listen on the event stream.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/events/{eventId}": {
            "get": {
                "deprecated": true,
                "description": "Get a single event based on ``event_id``. You must have permission to\nretrieve this event e.g. by being a member in the room for this event.",
                "parameters": [
                    {
                        "description": "The event ID to get.",
                        "in": "path",
                        "name": "eventId",
                        "required": true,
                        "type": "string",
                        "x-example": "$asfDuShaf7Gafaw:matrix.org"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The full event.",
                        "examples": {
                            "application/json": "{\n  \"content\": {\n    \"body\": \"Hello world!\",\n    \"msgtype\": \"m.text\"\n  },\n  \"room_id\": \"!wfgy43Sg4a:matrix.org\",\n  \"sender\": \"@bob:matrix.org\",\n  \"event_id\": \"$asfDuShaf7Gafaw:matrix.org\",\n  \"type\": \"m.room.message\"\n}"
                        },
                        "schema": {
                            "allOf": [
                                {
                                    "description": "The basic set of fields all events must have.",
                                    "properties": {
                                        "content": {
                                            "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                            "title": "EventContent",
                                            "type": "object"
                                        },
                                        "type": {
                                            "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                            "type": "string"
                                        }
                                    },
                                    "title": "Event",
                                    "type": "object"
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "The event was not found or you do not have permission to read this event."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get a single event by event ID.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/initialSync": {
            "get": {
                "deprecated": true,
                "description": "This returns the full state for this user, with an optional limit on the\nnumber of messages per room to return.",
                "parameters": [
                    {
                        "description": "The maximum number of messages to return for each room.",
                        "in": "query",
                        "name": "limit",
                        "required": false,
                        "type": "integer",
                        "x-example": "2"
                    },
                    {
                        "description": "Whether to include rooms that the user has left. If ``false`` then\nonly rooms that the user has been invited to or has joined are\nincluded. If set to ``true`` then rooms that the user has left are\nincluded as well. By default this is ``false``.",
                        "in": "query",
                        "name": "archived",
                        "required": false,
                        "type": "boolean",
                        "x-example": "true"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user's current state.",
                        "examples": {
                            "application/json": "{\n    \"end\": \"s3456_9_0\",\n    \"presence\": [\n        {\n            \"content\": {\n                \"avatar_url\": \"mxc://localhost/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n                \"displayname\": \"Bob\",\n                \"last_active_ago\": 31053,\n                \"presence\": \"online\",\n                \"user_id\": \"@bob:localhost\"\n            },\n            \"type\": \"m.presence\"\n        }\n    ],\n    \"account_data\": [\n      {\n        \"type\": \"org.example.custom.config\",\n        \"content\": {\n          \"custom_config_key\": \"custom_config_value\"\n        }\n      }\n    ],\n    \"rooms\": [\n        {\n            \"membership\": \"join\",\n            \"messages\": {\n                \"chunk\": [\n                    {\n                        \"age\": 343513403,\n                        \"content\": {\n                            \"body\": \"foo\",\n                            \"msgtype\": \"m.text\"\n                        },\n                        \"event_id\": \"$14328044851tzTJS:localhost\",\n                        \"origin_server_ts\": 1432804485886,\n                        \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                        \"type\": \"m.room.message\",\n                        \"sender\": \"@alice:localhost\"\n                    },\n                    {\n                        \"age\": 343511809,\n                        \"content\": {\n                            \"body\": \"bar\",\n                            \"msgtype\": \"m.text\"\n                        },\n                        \"event_id\": \"$14328044872spjFg:localhost\",\n                        \"origin_server_ts\": 1432804487480,\n                        \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                        \"type\": \"m.room.message\",\n                        \"sender\": \"@bob:localhost\"\n                    }\n                ],\n                \"end\": \"s3456_9_0\",\n                \"start\": \"t44-3453_9_0\"\n            },\n            \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n            \"state\": [\n                {\n                    \"age\": 7148266897,\n                    \"content\": {\n                        \"join_rule\": \"public\"\n                    },\n                    \"event_id\": \"$14259997323TLwtb:localhost\",\n                    \"origin_server_ts\": 1425999732392,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.join_rules\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 6547561012,\n                    \"content\": {\n                        \"avatar_url\": \"mxc://localhost/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n                        \"membership\": \"join\"\n                    },\n                    \"event_id\": \"$1426600438280zExKY:localhost\",\n                    \"membership\": \"join\",\n                    \"origin_server_ts\": 1426600438277,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"@alice:localhost\",\n                    \"type\": \"m.room.member\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 7148267200,\n                    \"content\": {\n                        \"creator\": \"@alice:localhost\"\n                    },\n                    \"event_id\": \"$14259997320KhbwJ:localhost\",\n                    \"origin_server_ts\": 1425999732089,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.create\",\n                    \"sender\": \"@alice:localhost\"\n                },\n                {\n                    \"age\": 1622568720,\n                    \"content\": {\n                        \"avatar_url\": \"mxc://localhost/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n                        \"displayname\": \"Bob\",\n                        \"membership\": \"join\"\n                    },\n                    \"event_id\": \"$1431525430134MxlLX:localhost\",\n                    \"origin_server_ts\": 1431525430569,\n                    \"replaces_state\": \"$142652023736BSXcM:localhost\",\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"@bob:localhost\",\n                    \"type\": \"m.room.member\",\n                    \"sender\": \"@bob:localhost\"\n                },\n                {\n                    \"age\": 7148267004,\n                    \"content\": {\n                        \"ban\": 50,\n                        \"events\": {\n                            \"m.room.name\": 100,\n                            \"m.room.power_levels\": 100\n                        },\n                        \"events_default\": 0,\n                        \"kick\": 50,\n                        \"redact\": 50,\n                        \"state_default\": 50,\n                        \"users\": {\n                            \"@alice:localhost\": 100\n                        },\n                        \"users_default\": 0\n                    },\n                    \"event_id\": \"$14259997322mqfaq:localhost\",\n                    \"origin_server_ts\": 1425999732285,\n                    \"room_id\": \"!TmaZBKYIFrIPVGoUYp:localhost\",\n                    \"state_key\": \"\",\n                    \"type\": \"m.room.power_levels\",\n                    \"sender\": \"@alice:localhost\"\n                }\n            ],\n            \"visibility\": \"private\",\n            \"account_data\": [\n              {\n                \"type\": \"m.tag\",\n                \"content\": {\"tags\": {\"work\": {\"order\": 1}}}\n              },\n              {\n                \"type\": \"org.example.custom.room.config\",\n                \"content\": {\n                  \"custom_config_key\": \"custom_config_value\"\n                }\n              }\n            ]\n        }\n    ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "end": {
                                    "description": "A token which correlates to the last value in ``chunk``. This\ntoken should be used with the ``/events`` API to listen for new\nevents.",
                                    "type": "string"
                                },
                                "presence": {
                                    "description": "A list of presence events.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "description": "The basic set of fields all events must have.",
                                                "properties": {
                                                    "content": {
                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                        "title": "EventContent",
                                                        "type": "object"
                                                    },
                                                    "type": {
                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                        "type": "string"
                                                    }
                                                },
                                                "title": "Event",
                                                "type": "object"
                                            }
                                        ],
                                        "title": "Event",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "rooms": {
                                    "items": {
                                        "properties": {
                                            "account_data": {
                                                "description": "The private data that this user has attached to\nthis room.",
                                                "items": {
                                                    "allOf": [
                                                        {
                                                            "description": "The basic set of fields all events must have.",
                                                            "properties": {
                                                                "content": {
                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                    "title": "EventContent",
                                                                    "type": "object"
                                                                },
                                                                "type": {
                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "title": "Event",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "title": "Event",
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            },
                                            "invite": {
                                                "allOf": [
                                                    {
                                                        "allOf": [
                                                            {
                                                                "allOf": [
                                                                    {
                                                                        "allOf": [
                                                                            {
                                                                                "description": "The basic set of fields all events must have.",
                                                                                "properties": {
                                                                                    "content": {
                                                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                        "title": "EventContent",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "type": {
                                                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "title": "Event",
                                                                                "type": "object"
                                                                            }
                                                                        ],
                                                                        "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                        "properties": {
                                                                            "event_id": {
                                                                                "description": "Required. The globally unique event identifier.",
                                                                                "type": "string"
                                                                            },
                                                                            "room_id": {
                                                                                "description": "Required. The ID of the room associated with this event.",
                                                                                "type": "string"
                                                                            },
                                                                            "sender": {
                                                                                "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                                "type": "string"
                                                                            },
                                                                            "unsigned": {
                                                                                "description": "Contains optional extra information about the event.",
                                                                                "properties": {
                                                                                    "age": {
                                                                                        "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                        "type": "integer"
                                                                                    },
                                                                                    "redacted_because": {
                                                                                        "description": "The reason this event was redacted, if it was redacted",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "transaction_id": {
                                                                                        "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "title": "UnsignedData",
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "event_id",
                                                                            "room_id",
                                                                            "sender"
                                                                        ],
                                                                        "title": "Room Event",
                                                                        "type": "object"
                                                                    }
                                                                ],
                                                                "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                                                "properties": {
                                                                    "prev_content": {
                                                                        "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                                        "title": "EventContent",
                                                                        "type": "object"
                                                                    },
                                                                    "state_key": {
                                                                        "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "state_key"
                                                                ],
                                                                "title": "State Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "Adjusts the membership state for a user in a room. It is preferable to use the membership APIs (``/rooms/<room id>/invite`` etc) when performing membership actions rather than adjusting the state directly as there are a restricted set of valid transformations. For example, user A cannot force user B to join a room, and trying to force this state change directly will fail. \n\nThe following membership states are specified:\n\n- ``invite`` - The user has been invited to join a room, but has not yet joined it. They may not participate in the room until they join.\n\n- ``join`` - The user has joined the room (possibly after accepting an invite), and may participate in it.\n\n- ``leave`` - The user was once joined to the room, but has since left (possibly by choice, or possibly by being kicked).\n\n- ``ban`` - The user has been banned from the room, and is no longer allowed to join it until they are un-banned from the room (by having their membership state set to a value other than ``ban``).\n\n- ``knock`` - This is a reserved word, which currently has no meaning.\n\nThe ``third_party_invite`` property will be set if this invite is an ``invite`` event and is the successor of an ``m.room.third_party_invite`` event, and absent otherwise.\n\nThis event may also include an ``invite_room_state`` key **outside the** ``content`` **key**. If present, this contains an array of ``StrippedState`` Events. These events provide information on a subset of state events such as the room name.",
                                                        "properties": {
                                                            "content": {
                                                                "properties": {
                                                                    "avatar_url": {
                                                                        "description": "The avatar URL for this user, if any. This is added by the homeserver.",
                                                                        "type": "string"
                                                                    },
                                                                    "displayname": {
                                                                        "description": "The display name for this user, if any. This is added by the homeserver.",
                                                                        "type": [
                                                                            "string",
                                                                            "null"
                                                                        ]
                                                                    },
                                                                    "membership": {
                                                                        "description": "The membership state of the user.",
                                                                        "enum": [
                                                                            "invite",
                                                                            "join",
                                                                            "knock",
                                                                            "leave",
                                                                            "ban"
                                                                        ],
                                                                        "type": "string"
                                                                    },
                                                                    "third_party_invite": {
                                                                        "properties": {
                                                                            "display_name": {
                                                                                "description": "A name which can be displayed to represent the user instead of their third party identifier",
                                                                                "type": "string"
                                                                            },
                                                                            "signed": {
                                                                                "description": "A block of content which has been signed, which servers can use to verify the event. Clients should ignore this.",
                                                                                "properties": {
                                                                                    "mxid": {
                                                                                        "description": "The invited matrix user ID. Must be equal to the user_id property of the event.",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "signatures": {
                                                                                        "description": "A single signature from the verifying server, in the format specified by the Signing Events section of the server-server API.",
                                                                                        "title": "Signatures",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "token": {
                                                                                        "description": "The token property of the containing third_party_invite object.",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "required": [
                                                                                    "mxid",
                                                                                    "signatures",
                                                                                    "token"
                                                                                ],
                                                                                "title": "signed",
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "display_name",
                                                                            "signed"
                                                                        ],
                                                                        "title": "Invite",
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "membership"
                                                                ],
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "invite_room_state": {
                                                                "description": "A subset of the state of the room at the time of the invite, if ``membership`` is ``invite``. Note that this state is informational, and SHOULD NOT be trusted; once the client has joined the room, it SHOULD SHOULD fetch the live state from the server and discard the invite_room_state. Also, clients must not rely on any particular state being present here; they SHOULD behave properly (with possibly a degraded but not a broken experience) in the absence of any particular events here. If they are set on the room, at least the state for ``m.room.avatar``, ``m.room.canonical_alias``, ``m.room.join_rules``, and ``m.room.name`` SHOULD be included.",
                                                                "items": {
                                                                    "description": "A stripped down state event, with only the ``type``, ``state_key`` and ``content`` keys.",
                                                                    "properties": {
                                                                        "content": {
                                                                            "description": "The ``content`` for the event.",
                                                                            "title": "EventContent",
                                                                            "type": "object"
                                                                        },
                                                                        "state_key": {
                                                                            "description": "The ``state_key`` for the event.",
                                                                            "type": "string"
                                                                        },
                                                                        "type": {
                                                                            "description": "The ``type`` for the event.",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "type",
                                                                        "state_key",
                                                                        "content"
                                                                    ],
                                                                    "title": "StrippedState",
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            },
                                                            "state_key": {
                                                                "description": "The ``user_id`` this membership event relates to.",
                                                                "type": "string"
                                                            },
                                                            "type": {
                                                                "enum": [
                                                                    "m.room.member"
                                                                ],
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "The current membership state of a user in the room.",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "The invite event if ``membership`` is ``invite``",
                                                "title": "InviteEvent",
                                                "type": "object"
                                            },
                                            "membership": {
                                                "description": "The user's membership state in this room.",
                                                "enum": [
                                                    "invite",
                                                    "join",
                                                    "leave",
                                                    "ban"
                                                ],
                                                "type": "string"
                                            },
                                            "messages": {
                                                "description": "The pagination chunk for this room.",
                                                "properties": {
                                                    "chunk": {
                                                        "description": "If the user is a member of the room this will be a\nlist of the most recent messages for this room. If\nthe user has left the room this will be the\nmessages that preceeded them leaving. This array\nwill consist of at most ``limit`` elements.",
                                                        "items": {
                                                            "allOf": [
                                                                {
                                                                    "allOf": [
                                                                        {
                                                                            "description": "The basic set of fields all events must have.",
                                                                            "properties": {
                                                                                "content": {
                                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                    "title": "EventContent",
                                                                                    "type": "object"
                                                                                },
                                                                                "type": {
                                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "Event",
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                    "properties": {
                                                                        "event_id": {
                                                                            "description": "Required. The globally unique event identifier.",
                                                                            "type": "string"
                                                                        },
                                                                        "room_id": {
                                                                            "description": "Required. The ID of the room associated with this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "sender": {
                                                                            "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "unsigned": {
                                                                            "description": "Contains optional extra information about the event.",
                                                                            "properties": {
                                                                                "age": {
                                                                                    "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                    "type": "integer"
                                                                                },
                                                                                "redacted_because": {
                                                                                    "description": "The reason this event was redacted, if it was redacted",
                                                                                    "type": "string"
                                                                                },
                                                                                "transaction_id": {
                                                                                    "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "UnsignedData",
                                                                            "type": "object"
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "event_id",
                                                                        "room_id",
                                                                        "sender"
                                                                    ],
                                                                    "title": "Room Event",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "title": "RoomEvent",
                                                            "type": "object"
                                                        },
                                                        "type": "array"
                                                    },
                                                    "end": {
                                                        "description": "A token which correlates to the last value in ``chunk``.\nUsed for pagination.",
                                                        "type": "string"
                                                    },
                                                    "start": {
                                                        "description": "A token which correlates to the first value in ``chunk``.\nUsed for pagination.",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "start",
                                                    "end",
                                                    "chunk"
                                                ],
                                                "title": "PaginationChunk",
                                                "type": "object"
                                            },
                                            "room_id": {
                                                "description": "The ID of this room.",
                                                "type": "string"
                                            },
                                            "state": {
                                                "description": "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the\nuser has left the room this will be the state of the\nroom when they left it.",
                                                "items": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "allOf": [
                                                                        {
                                                                            "description": "The basic set of fields all events must have.",
                                                                            "properties": {
                                                                                "content": {
                                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                    "title": "EventContent",
                                                                                    "type": "object"
                                                                                },
                                                                                "type": {
                                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "Event",
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                    "properties": {
                                                                        "event_id": {
                                                                            "description": "Required. The globally unique event identifier.",
                                                                            "type": "string"
                                                                        },
                                                                        "room_id": {
                                                                            "description": "Required. The ID of the room associated with this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "sender": {
                                                                            "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "unsigned": {
                                                                            "description": "Contains optional extra information about the event.",
                                                                            "properties": {
                                                                                "age": {
                                                                                    "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                    "type": "integer"
                                                                                },
                                                                                "redacted_because": {
                                                                                    "description": "The reason this event was redacted, if it was redacted",
                                                                                    "type": "string"
                                                                                },
                                                                                "transaction_id": {
                                                                                    "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "UnsignedData",
                                                                            "type": "object"
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "event_id",
                                                                        "room_id",
                                                                        "sender"
                                                                    ],
                                                                    "title": "Room Event",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                                            "properties": {
                                                                "prev_content": {
                                                                    "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                                    "title": "EventContent",
                                                                    "type": "object"
                                                                },
                                                                "state_key": {
                                                                    "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "state_key"
                                                            ],
                                                            "title": "State Event",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "title": "StateEvent",
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            },
                                            "visibility": {
                                                "description": "Whether this room is visible to the ``/publicRooms`` API\nor not.\"",
                                                "enum": [
                                                    "private",
                                                    "public"
                                                ],
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "room_id",
                                            "membership"
                                        ],
                                        "title": "RoomInfo",
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "end",
                                "rooms",
                                "presence"
                            ],
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no avatar URL for this user or this user does not exist."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get the user's current state.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/join/{roomIdOrAlias}": {
            "post": {
                "description": "*Note that this API takes either a room ID or alias, unlike* ``/room/{roomId}/join``.\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.\n\nIf a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event.",
                "parameters": [
                    {
                        "description": "The room identifier or alias to join.",
                        "in": "path",
                        "name": "roomIdOrAlias",
                        "required": true,
                        "type": "string",
                        "x-example": "#monkeys:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "third_party_signed",
                        "schema": {
                            "example": "{\n  \"third_party_signed\": {\n    \"signed\": {\n      \"sender\": \"@cat:the.hat\",\n      \"mxid\": \"@green:eggs.ham\",\n      \"token\": \"random8nonce\",\n      \"signatures\": {\n        \"horton.hears\": {\n          \"ed25519:0\": \"some9signature\"\n        }\n      }\n    }\n  }\n}",
                            "properties": {
                                "third_party_signed": {
                                    "description": "A signature of an ``m.third_party_invite`` token to prove that this user owns a third party identity which has been invited to the room.",
                                    "properties": {
                                        "signed": {
                                            "properties": {
                                                "mxid": {
                                                    "description": "The Matrix ID of the invitee.",
                                                    "type": "string"
                                                },
                                                "sender": {
                                                    "description": "The Matrix ID of the user who issued the invite.",
                                                    "type": "string"
                                                },
                                                "signatures": {
                                                    "description": "A signatures object containing a signature of the entire signed object.",
                                                    "title": "Signatures",
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "description": "The state key of the m.third_party_invite event.",
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "sender",
                                                "mxid",
                                                "token",
                                                "signatures"
                                            ],
                                            "title": "Signed",
                                            "type": "object"
                                        }
                                    },
                                    "required": [
                                        "signed"
                                    ],
                                    "title": "ThirdPartySigned",
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "examples": {
                            "application/json": "{\"room_id\": \"!d41d8cd:matrix.org\"}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to join the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"You are not invited to this room.\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Start the requesting user participating in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/login": {
            "post": {
                "description": "Authenticates the user by password, and issues an access token they can\nuse to authorize themself in subsequent requests.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"type\": \"m.login.password\",\n  \"user\": \"cheeky_monkey\",\n  \"password\": \"ilovebananas\"\n}",
                            "properties": {
                                "password": {
                                    "description": "The user's password.",
                                    "type": "string"
                                },
                                "type": {
                                    "description": "The login type being used. Currently only \"m.login.password\" is supported.",
                                    "type": "string"
                                },
                                "user": {
                                    "description": "The fully qualified user ID or just local part of the user ID, to log in.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "type",
                                "user",
                                "password"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been authenticated.",
                        "examples": {
                            "application/json": "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\",\n  \"access_token\": \"abc123\",\n  \"home_server\": \"matrix.org\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "access_token": {
                                    "description": "An access token for the account.\nThis access token can then be used to authorize other requests.\nThe access token may expire at some point, and if so, it SHOULD come with a ``refresh_token``.\nThere is no specific error message to indicate that a request has failed because\nan access token has expired; instead, if a client has reason to believe its\naccess token is valid, and it receives an auth error, they should attempt to\nrefresh for a new token on failure, and retry the request with the new token.",
                                    "type": "string"
                                },
                                "home_server": {
                                    "description": "The hostname of the homeserver on which the account has been registered.",
                                    "type": "string"
                                },
                                "refresh_token": {
                                    "description": "(optional) A ``refresh_token`` may be exchanged for a new ``access_token`` using the /tokenrefresh API endpoint.",
                                    "type": "string"
                                },
                                "user_id": {
                                    "description": "The fully-qualified Matrix ID that has been registered.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "Part of the request was invalid. For example, the login type may not be recognised.",
                        "examples": {
                            "application/json": "{\n    \"errcode\": \"M_UNKNOWN\",\n    \"error\": \"Bad login type.\"\n}"
                        }
                    },
                    "403": {
                        "description": "The login attempt failed. For example, the password may have been incorrect.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Authenticates the user.",
                "tags": [
                    "Session management"
                ]
            }
        },
        "/presence/list/{userId}": {
            "get": {
                "description": "Retrieve a list of presence events for every user on this list.",
                "parameters": [
                    {
                        "description": "The user whose presence list should be retrieved.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of presence events for this list.",
                        "examples": {
                            "application/json": "[\n  {\n    \"content\": {\n      \"avatar_url\": \"mxc://matrix.org/AfwefuigfWEfhuiPP\",\n      \"displayname\": \"Alice Margatroid\",\n      \"last_active_ago\": 395,\n      \"presence\": \"offline\",\n      \"user_id\": \"@alice:matrix.org\"\n    },\n    \"type\": \"m.presence\"\n  },\n  {\n    \"content\": {\n      \"avatar_url\": \"mxc://matrix.org/FWEhuiwegfWEfhuiwf\",\n      \"displayname\": \"Marisa Kirisame\",\n      \"last_active_ago\": 16874,\n      \"presence\": \"online\",\n      \"user_id\": \"@marisa:matrix.org\"\n    },\n    \"type\": \"m.presence\"\n  }\n]"
                        },
                        "schema": {
                            "items": {
                                "allOf": [
                                    {
                                        "description": "The basic set of fields all events must have.",
                                        "properties": {
                                            "content": {
                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                "title": "EventContent",
                                                "type": "object"
                                            },
                                            "type": {
                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                "type": "string"
                                            }
                                        },
                                        "title": "Event",
                                        "type": "object"
                                    }
                                ],
                                "title": "PresenceEvent",
                                "type": "object"
                            },
                            "type": "array"
                        }
                    }
                },
                "summary": "Get presence events for this presence list.",
                "tags": [
                    "Presence"
                ]
            },
            "post": {
                "description": "Adds or removes users from this presence list.",
                "parameters": [
                    {
                        "description": "The user whose presence list is being modified.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The modifications to make to this presence list.",
                        "in": "body",
                        "name": "presence_diff",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"invite\": [\n    \"@bob:matrix.org\"\n  ],\n  \"drop\": [\n    \"@alice:matrix.org\"\n  ]\n}",
                            "properties": {
                                "drop": {
                                    "description": "A list of user IDs to remove from the list.",
                                    "items": {
                                        "description": "A list of user IDs.",
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "invite": {
                                    "description": "A list of user IDs to add to the list.",
                                    "items": {
                                        "description": "A list of user IDs.",
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The list was updated.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Add or remove users from this presence list.",
                "tags": [
                    "Presence"
                ]
            }
        },
        "/presence/{userId}/status": {
            "get": {
                "description": "Get the given user's presence state.",
                "parameters": [
                    {
                        "description": "The user whose presence state to get.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The presence state for this user.",
                        "examples": {
                            "application/json": "{\n  \"presence\": \"unavailable\",\n  \"last_active_ago\": 420845\n}"
                        },
                        "schema": {
                            "properties": {
                                "last_active_ago": {
                                    "description": "The length of time in milliseconds since an action was performed\nby this user.",
                                    "type": "integer"
                                },
                                "presence": {
                                    "description": "This user's presence.",
                                    "enum": [
                                        "online",
                                        "offline",
                                        "unavailable",
                                        "free_for_chat"
                                    ],
                                    "type": "string"
                                },
                                "status_msg": {
                                    "description": "The state message for this user if one was set.",
                                    "type": [
                                        "string",
                                        "null"
                                    ]
                                }
                            },
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no presence state for this user. This user may not exist or\nisn't exposing presence information to you."
                    }
                },
                "summary": "Get this user's presence state.",
                "tags": [
                    "Presence"
                ]
            },
            "put": {
                "description": "This API sets the given user's presence state. When setting the status,\nthe activity time is updated to reflect that activity; the client does\nnot need to specify the ``last_active_ago`` field. You cannot set the\npresence state of another user.",
                "parameters": [
                    {
                        "description": "The user whose presence state to update.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The updated presence state.",
                        "in": "body",
                        "name": "presenceState",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"presence\": \"online\",\n  \"status_msg\": \"I am here.\"\n}",
                            "properties": {
                                "presence": {
                                    "description": "The new presence state.",
                                    "enum": [
                                        "online",
                                        "offline",
                                        "unavailable",
                                        "free_for_chat"
                                    ],
                                    "type": "string"
                                },
                                "status_msg": {
                                    "description": "The status message to attach to this state.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "presence"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The new presence state was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Update this user's presence state.",
                "tags": [
                    "Presence"
                ]
            }
        },
        "/profile/{userId}": {
            "get": {
                "description": "Get the combined profile information for this user. This API may be used\nto fetch the user's own profile information or other users; either\nlocally or on remote homeservers. This API may return keys which are not\nlimited to ``displayname`` or ``avatar_url``.",
                "parameters": [
                    {
                        "description": "The user whose profile information to get.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The avatar URL for this user.",
                        "examples": {
                            "application/json": "{\n  \"avatar_url\": \"mxc://matrix.org/SDGdghriugerRg\",\n  \"displayname\": \"Alice Margatroid\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "avatar_url": {
                                    "description": "The user's avatar URL if they have set one, otherwise not present.",
                                    "type": "string"
                                },
                                "displayname": {
                                    "description": "The user's display name if they have set one, otherwise not present.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no profile information for this user or this user does not exist."
                    }
                },
                "summary": "Get this user's profile information.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/profile/{userId}/avatar_url": {
            "get": {
                "description": "Get the user's avatar URL. This API may be used to fetch the user's\nown avatar URL or to query the URL of other users; either locally or\non remote homeservers.",
                "parameters": [
                    {
                        "description": "The user whose avatar URL to get.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The avatar URL for this user.",
                        "examples": {
                            "application/json": "{\n  \"avatar_url\": \"mxc://matrix.org/SDGdghriugerRg\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "avatar_url": {
                                    "description": "The user's avatar URL if they have set one, otherwise not present.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no avatar URL for this user or this user does not exist."
                    }
                },
                "summary": "Get the user's avatar URL.",
                "tags": [
                    "User data"
                ]
            },
            "put": {
                "description": "This API sets the given user's avatar URL. You must have permission to\nset this user's avatar URL, e.g. you need to have their ``access_token``.",
                "parameters": [
                    {
                        "description": "The user whose avatar URL to set.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The avatar url info.",
                        "in": "body",
                        "name": "avatar_url",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"avatar_url\": \"mxc://matrix.org/wefh34uihSDRGhw34\"\n}",
                            "properties": {
                                "avatar_url": {
                                    "description": "The new avatar URL for this user.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The avatar URL was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Set the user's avatar URL.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/profile/{userId}/displayname": {
            "get": {
                "description": "Get the user's display name. This API may be used to fetch the user's\nown displayname or to query the name of other users; either locally or\non remote homeservers.",
                "parameters": [
                    {
                        "description": "The user whose display name to get.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The display name for this user.",
                        "examples": {
                            "application/json": "{\n  \"displayname\": \"Alice Margatroid\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "displayname": {
                                    "description": "The user's display name if they have set one, otherwise not present.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no display name for this user or this user does not exist."
                    }
                },
                "summary": "Get the user's display name.",
                "tags": [
                    "User data"
                ]
            },
            "put": {
                "description": "This API sets the given user's display name. You must have permission to\nset this user's display name, e.g. you need to have their ``access_token``.",
                "parameters": [
                    {
                        "description": "The user whose display name to set.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The display name info.",
                        "in": "body",
                        "name": "displayName",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"displayname\": \"Alice Margatroid\"\n}",
                            "properties": {
                                "displayname": {
                                    "description": "The new display name for this user.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The display name was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Set the user's display name.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/publicRooms": {
            "get": {
                "description": "Lists the public rooms on the server.\n\nThis API returns paginated responses.",
                "responses": {
                    "200": {
                        "description": "A list of the rooms on the server.",
                        "examples": {
                            "application/json": "{\n  \"chunk\": [\n    {\n      \"aliases\": [\"#murrays:cheese.bar\"],\n      \"avatar_url\": \"mxc://bleeker.street/CHEDDARandBRIE\",\n      \"guest_can_join\": false,\n      \"name\": \"CHEESE\",\n      \"num_joined_members\": 37,\n      \"room_id\": \"!ol19s:bleecker.street\",\n      \"topic\": \"Tasty tasty cheese\",\n      \"world_readable\": true\n    }\n  ],\n  \"start\": \"p190q\",\n  \"end\": \"p1902\"\n}"
                        },
                        "schema": {
                            "description": "A list of the rooms on the server.",
                            "properties": {
                                "chunk": {
                                    "description": "A paginated chunk of public rooms.",
                                    "items": {
                                        "properties": {
                                            "aliases": {
                                                "description": "Aliases of the room. May be empty.",
                                                "items": {
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            },
                                            "avatar_url": {
                                                "description": "The URL for the room's avatar, if one is set.",
                                                "type": "string"
                                            },
                                            "guest_can_join": {
                                                "description": "Whether guest users may join the room and participate in it.\nIf they can, they will be subject to ordinary power level\nrules like any other user.",
                                                "type": "boolean"
                                            },
                                            "name": {
                                                "description": "The name of the room, if any. May be null.",
                                                "type": "string"
                                            },
                                            "num_joined_members": {
                                                "description": "The number of members joined to the room.",
                                                "type": "number"
                                            },
                                            "room_id": {
                                                "description": "The ID of the room.",
                                                "type": "string"
                                            },
                                            "topic": {
                                                "description": "The topic of the room, if any. May be null.",
                                                "type": "string"
                                            },
                                            "world_readable": {
                                                "description": "Whether the room may be viewed by guest users without joining.",
                                                "type": "boolean"
                                            }
                                        },
                                        "title": "PublicRoomsChunk",
                                        "type": "object"
                                    },
                                    "title": "PublicRoomsChunks",
                                    "type": "array"
                                },
                                "end": {
                                    "description": "A pagination token for the response.",
                                    "type": "string"
                                },
                                "start": {
                                    "description": "A pagination token for the response.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "The request body is malformed or the room alias specified is already taken.\n"
                    }
                },
                "summary": "Lists the public rooms on the server.",
                "tags": [
                    "Room discovery"
                ]
            }
        },
        "/pushers": {
            "get": {
                "description": "Gets all currently active pushers for the authenticated user",
                "responses": {
                    "200": {
                        "description": "The pushers for this user",
                        "examples": {
                            "application/json": "{\n  \"pushers\": [\n    {\n      \"pushkey\": \"Xp/MzCt8/9DcSNE9cuiaoT5Ac55job3TdLSSmtmYl4A=\",\n      \"kind\": \"http\",\n      \"app_id\": \"face.mcapp.appy.prod\",\n      \"app_display_name\": \"Appy McAppface\",\n      \"device_display_name\": \"Alice's Phone\",\n      \"profile_tag\": \"xyz\",\n      \"lang\": \"en-US\",\n      \"data\": {\n          \"url\": \"https://example.com/_matrix/push/v1/notify\"\n      }\n    }\n  ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "pushers": {
                                    "description": "An array containing the current pushers for the user",
                                    "items": {
                                        "properties": {
                                            "app_display_name": {
                                                "description": "A string that will allow the user to identify what application\nowns this pusher.",
                                                "type": "string"
                                            },
                                            "app_id": {
                                                "description": "This is a reverse-DNS style identifier for the application.\nMax length, 64 chars.",
                                                "type": "string"
                                            },
                                            "data": {
                                                "description": "A dictionary of information for the pusher implementation\nitself.",
                                                "properties": {
                                                    "url": {
                                                        "description": "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to.",
                                                        "type": "string"
                                                    }
                                                },
                                                "title": "PusherData",
                                                "type": "object"
                                            },
                                            "device_display_name": {
                                                "description": "A string that will allow the user to identify what device owns\nthis pusher.",
                                                "type": "string"
                                            },
                                            "kind": {
                                                "description": "The kind of pusher. ``\"http\"`` is a pusher that\nsends HTTP pokes.",
                                                "type": "string"
                                            },
                                            "lang": {
                                                "description": "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US')",
                                                "type": "string"
                                            },
                                            "profile_tag": {
                                                "description": "This string determines which set of device specific rules this\npusher executes.",
                                                "type": "string"
                                            },
                                            "pushkey": {
                                                "description": "This is a unique identifier for this pusher. See `/set` for\nmore detail.\nMax length, 512 bytes.",
                                                "type": "string"
                                            }
                                        },
                                        "title": "Pusher",
                                        "type": "object"
                                    },
                                    "title": "Pushers",
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Gets the current pushers for the authenticated user",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/pushers/set": {
            "post": {
                "description": "This endpoint allows the creation, modification and deletion of `pushers`_\nfor this user ID. The behaviour of this endpoint varies depending on the\nvalues in the JSON body.",
                "parameters": [
                    {
                        "description": "The pusher information",
                        "in": "body",
                        "name": "pusher",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"lang\": \"en\",\n  \"kind\": \"http\",\n  \"app_display_name\": \"Mat Rix\",\n  \"device_display_name\": \"iPhone 9\",\n  \"profile_tag\": \"xxyyzz\",\n  \"app_id\": \"com.example.app.ios\",\n  \"pushkey\": \"APA91bHPRgkF3JUikC4ENAHEeMrd41Zxv3hVZjC9KtT8OvPVGJ-hQMRKRrZuJAEcl7B338qju59zJMjw2DELjzEvxwYv7hH5Ynpc1ODQ0aT4U4OFEeco8ohsN5PjL1iC2dNtk2BAokeMCg2ZXKqpc8FXKmhX94kIxQ\",\n  \"data\": {\n    \"url\": \"https://push-gateway.location.here\"\n  },\n  \"append\": false\n}",
                            "properties": {
                                "app_display_name": {
                                    "description": "A string that will allow the user to identify what application\nowns this pusher.",
                                    "type": "string"
                                },
                                "app_id": {
                                    "description": "This is a reverse-DNS style identifier for the application.\nIt is recommended that this end with the platform, such that\ndifferent platform versions get different app identifiers.\nMax length, 64 chars.",
                                    "type": "string"
                                },
                                "append": {
                                    "description": "If true, the homeserver should add another pusher with the\ngiven pushkey and App ID in addition to any others with\ndifferent user IDs. Otherwise, the homeserver must remove any\nother pushers with the same App ID and pushkey for different\nusers. The default is ``false``.",
                                    "type": "boolean"
                                },
                                "data": {
                                    "description": "A dictionary of information for the pusher implementation\nitself. If ``kind`` is ``http``, this should contain ``url``\nwhich is the URL to use to send notifications to.",
                                    "properties": {
                                        "url": {
                                            "description": "Required if ``kind`` is ``http``. The URL to use to send\nnotifications to.",
                                            "type": "string"
                                        }
                                    },
                                    "title": "PusherData",
                                    "type": "object"
                                },
                                "device_display_name": {
                                    "description": "A string that will allow the user to identify what device owns\nthis pusher.",
                                    "type": "string"
                                },
                                "kind": {
                                    "description": "The kind of pusher to configure. ``\"http\"`` makes a pusher that\nsends HTTP pokes. ``null`` deletes the pusher.",
                                    "type": "string"
                                },
                                "lang": {
                                    "description": "The preferred language for receiving notifications (e.g. 'en'\nor 'en-US')",
                                    "type": "string"
                                },
                                "profile_tag": {
                                    "description": "This string determines which set of device specific rules this\npusher executes.",
                                    "type": "string"
                                },
                                "pushkey": {
                                    "description": "This is a unique identifier for this pusher. The value you\nshould use for this is the routing or destination address\ninformation for the notification, for example, the APNS token\nfor APNS or the Registration ID for GCM. If your notification\nclient has no such concept, use any unique identifier.\nMax length, 512 bytes.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "kind",
                                "app_id",
                                "app_display_name",
                                "device_display_name",
                                "pushkey",
                                "lang",
                                "data"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The pusher was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "One or more of the pusher values were invalid.",
                        "examples": {
                            "application/json": "{\n  \"error\": \"Missing parameters: lang, data\",\n  \"errcode\": \"M_MISSING_PARAM\"\n}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Modify a pusher for this user on the homeserver.",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/pushrules/": {
            "get": {
                "description": "Retrieve all push rulesets for this user. Clients can \"drill-down\" on\nthe rulesets by suffixing a ``scope`` to this path e.g.\n``/pushrules/global/``. This will return a subset of this data under the\nspecified key e.g. the ``global`` key.",
                "responses": {
                    "200": {
                        "description": "All the push rulesets for this user.",
                        "examples": {
                            "application/json": "{\n  \"global\": {\n      \"content\": [\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"pattern\": \"alice\",\n              \"rule_id\": \".m.rule.contains_user_name\"\n          }\n      ],\n      \"override\": [\n          {\n              \"actions\": [\n                  \"dont_notify\"\n              ],\n              \"conditions\": [],\n              \"default\": true,\n              \"enabled\": false,\n              \"rule_id\": \".m.rule.master\"\n          },\n          {\n              \"actions\": [\n                  \"dont_notify\"\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"content.msgtype\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.notice\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.suppress_notices\"\n          }\n      ],\n      \"room\": [],\n      \"sender\": [],\n      \"underride\": [\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"ring\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.call.invite\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.call\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\"\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"kind\": \"contains_display_name\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.contains_display_name\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"is\": \"2\",\n                      \"kind\": \"room_member_count\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.room_one_to_one\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"sound\",\n                      \"value\": \"default\"\n                  },\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.member\"\n                  },\n                  {\n                      \"key\": \"content.membership\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"invite\"\n                  },\n                  {\n                      \"key\": \"state_key\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"@alice:example.com\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.invite_for_me\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.member\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.member_event\"\n          },\n          {\n              \"actions\": [\n                  \"notify\",\n                  {\n                      \"set_tweak\": \"highlight\",\n                      \"value\": false\n                  }\n              ],\n              \"conditions\": [\n                  {\n                      \"key\": \"type\",\n                      \"kind\": \"event_match\",\n                      \"pattern\": \"m.room.message\"\n                  }\n              ],\n              \"default\": true,\n              \"enabled\": true,\n              \"rule_id\": \".m.rule.message\"\n          }\n      ]\n  }\n}"
                        },
                        "schema": {
                            "properties": {
                                "global": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "content": {
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "actions": {
                                                                        "items": {
                                                                            "type": [
                                                                                "object",
                                                                                "string"
                                                                            ]
                                                                        },
                                                                        "type": "array"
                                                                    },
                                                                    "default": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "enabled": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "rule_id": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "PushRule",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "title": "PushRule",
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "override": {
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "actions": {
                                                                        "items": {
                                                                            "type": [
                                                                                "object",
                                                                                "string"
                                                                            ]
                                                                        },
                                                                        "type": "array"
                                                                    },
                                                                    "default": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "enabled": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "rule_id": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "PushRule",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "title": "PushRule",
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "room": {
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "actions": {
                                                                        "items": {
                                                                            "type": [
                                                                                "object",
                                                                                "string"
                                                                            ]
                                                                        },
                                                                        "type": "array"
                                                                    },
                                                                    "default": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "enabled": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "rule_id": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "PushRule",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "title": "PushRule",
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "sender": {
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "actions": {
                                                                        "items": {
                                                                            "type": [
                                                                                "object",
                                                                                "string"
                                                                            ]
                                                                        },
                                                                        "type": "array"
                                                                    },
                                                                    "default": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "enabled": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "rule_id": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "PushRule",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "title": "PushRule",
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "underride": {
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "actions": {
                                                                        "items": {
                                                                            "type": [
                                                                                "object",
                                                                                "string"
                                                                            ]
                                                                        },
                                                                        "type": "array"
                                                                    },
                                                                    "default": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "enabled": {
                                                                        "type": "boolean"
                                                                    },
                                                                    "rule_id": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "PushRule",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "title": "PushRule",
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The global ruleset.",
                                    "title": "Ruleset",
                                    "type": "object"
                                }
                            },
                            "required": [
                                "global"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Retrieve all push rulesets.",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/pushrules/{scope}/{kind}/{ruleId}": {
            "delete": {
                "description": "This endpoint removes the push rule defined in the path.",
                "parameters": [
                    {
                        "description": "``global`` to specify global rules.",
                        "in": "path",
                        "name": "scope",
                        "required": true,
                        "type": "string",
                        "x-example": "global"
                    },
                    {
                        "description": "The kind of rule\n",
                        "enum": [
                            "override",
                            "underride",
                            "sender",
                            "room",
                            "content"
                        ],
                        "in": "path",
                        "name": "kind",
                        "required": true,
                        "type": "string",
                        "x-example": "room"
                    },
                    {
                        "description": "The identifier for the rule.\n",
                        "in": "path",
                        "name": "ruleId",
                        "required": true,
                        "type": "string",
                        "x-example": "#spam:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The push rule was deleted.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Delete a push rule.",
                "tags": [
                    "Push notifications"
                ]
            },
            "get": {
                "description": "Retrieve a single specified push rule.",
                "parameters": [
                    {
                        "description": "``global`` to specify global rules.",
                        "in": "path",
                        "name": "scope",
                        "required": true,
                        "type": "string",
                        "x-example": "global"
                    },
                    {
                        "description": "The kind of rule\n",
                        "enum": [
                            "override",
                            "underride",
                            "sender",
                            "room",
                            "content"
                        ],
                        "in": "path",
                        "name": "kind",
                        "required": true,
                        "type": "string",
                        "x-example": "room"
                    },
                    {
                        "description": "The identifier for the rule.\n",
                        "in": "path",
                        "name": "ruleId",
                        "required": true,
                        "type": "string",
                        "x-example": "#spam:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The specific push rule. This will also include keys specific to the\nrule itself such as the rule's ``actions`` and ``conditions`` if set.",
                        "examples": {
                            "application/json": "{\n  \"actions\": [\n      \"dont_notify\"\n  ],\n  \"rule_id\": \"#spam:matrix.org\",\n  \"enabled\": true\n}"
                        },
                        "schema": {
                            "allOf": [
                                {
                                    "properties": {
                                        "actions": {
                                            "items": {
                                                "type": [
                                                    "object",
                                                    "string"
                                                ]
                                            },
                                            "type": "array"
                                        },
                                        "default": {
                                            "type": "boolean"
                                        },
                                        "enabled": {
                                            "type": "boolean"
                                        },
                                        "rule_id": {
                                            "type": "string"
                                        }
                                    },
                                    "title": "PushRule",
                                    "type": "object"
                                }
                            ],
                            "description": "The push rule.",
                            "title": "PushRule",
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Retrieve a push rule.",
                "tags": [
                    "Push notifications"
                ]
            },
            "put": {
                "description": "This endpoint allows the creation, modification and deletion of pushers\nfor this user ID. The behaviour of this endpoint varies depending on the\nvalues in the JSON body.",
                "parameters": [
                    {
                        "description": "``global`` to specify global rules.",
                        "in": "path",
                        "name": "scope",
                        "required": true,
                        "type": "string",
                        "x-example": "global"
                    },
                    {
                        "description": "The kind of rule\n",
                        "enum": [
                            "override",
                            "underride",
                            "sender",
                            "room",
                            "content"
                        ],
                        "in": "path",
                        "name": "kind",
                        "required": true,
                        "type": "string",
                        "x-example": "room"
                    },
                    {
                        "description": "The identifier for the rule.\n",
                        "in": "path",
                        "name": "ruleId",
                        "required": true,
                        "type": "string",
                        "x-example": "#spam:example.com"
                    },
                    {
                        "description": "Use 'before' with a ``rule_id`` as its value to make the new rule the\nnext-most important rule with respect to the given rule.",
                        "in": "query",
                        "name": "before",
                        "required": false,
                        "type": "string",
                        "x-example": "someRuleId"
                    },
                    {
                        "description": "This makes the new rule the next-less important rule relative to the\ngiven rule.",
                        "in": "query",
                        "name": "after",
                        "required": false,
                        "type": "string",
                        "x-example": "anotherRuleId"
                    },
                    {
                        "description": "The push rule data. Additional top-level keys may be present depending\non the parameters for the rule ``kind``.",
                        "in": "body",
                        "name": "pushrule",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"pattern\": \"cake*lie\",\n  \"actions\": [\"notify\"]\n}",
                            "properties": {
                                "actions": {
                                    "description": "The action(s) to perform when the conditions for this rule are met.",
                                    "items": {
                                        "enum": [
                                            "notify",
                                            "dont_notify",
                                            "coalesce",
                                            "set_tweak"
                                        ],
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "conditions": {
                                    "description": "The conditions that must hold true for an event in order for a\nrule to be applied to an event. A rule with no conditions\nalways matches.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "properties": {
                                                    "kind": {
                                                        "enum": [
                                                            "event_match",
                                                            "contains_display_name",
                                                            "room_member_count"
                                                        ],
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        ],
                                        "title": "conditions",
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "actions"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The pusher was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "There was a problem configuring this push rule.",
                        "examples": {
                            "application/json": "{\n  \"error\": \"before/after rule not found: someRuleId\",\n  \"errcode\": \"M_UNKNOWN\"\n}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Add or change a push rule.",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/pushrules/{scope}/{kind}/{ruleId}/actions": {
            "put": {
                "description": "This endpoint allows clients to change the actions of a push rule.\nThis can be used to change the actions of builtin rules.",
                "parameters": [
                    {
                        "description": "``global`` to specify global rules.",
                        "in": "path",
                        "name": "scope",
                        "required": true,
                        "type": "string",
                        "x-example": "global"
                    },
                    {
                        "description": "The kind of rule\n",
                        "enum": [
                            "override",
                            "underride",
                            "sender",
                            "room",
                            "content"
                        ],
                        "in": "path",
                        "name": "kind",
                        "required": true,
                        "type": "string",
                        "x-example": "room"
                    },
                    {
                        "description": "The identifier for the rule.\n",
                        "in": "path",
                        "name": "ruleId",
                        "required": true,
                        "type": "string",
                        "x-example": "#spam:example.com"
                    },
                    {
                        "description": "The action(s) to perform when the conditions for this rule are met.\n",
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"actions\": [\"notify\"]\n}",
                            "properties": {
                                "actions": {
                                    "description": "The action(s) to perform for this rule.",
                                    "items": {
                                        "enum": [
                                            "notify",
                                            "dont_notify",
                                            "coalesce",
                                            "set_tweak"
                                        ],
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "actions"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The actions for the push rule were set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Set the actions for a push rule.",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/pushrules/{scope}/{kind}/{ruleId}/enabled": {
            "put": {
                "description": "This endpoint allows clients to enable or disable the specified push rule.",
                "parameters": [
                    {
                        "description": "``global`` to specify global rules.",
                        "in": "path",
                        "name": "scope",
                        "required": true,
                        "type": "string",
                        "x-example": "global"
                    },
                    {
                        "description": "The kind of rule\n",
                        "enum": [
                            "override",
                            "underride",
                            "sender",
                            "room",
                            "content"
                        ],
                        "in": "path",
                        "name": "kind",
                        "required": true,
                        "type": "string",
                        "x-example": "room"
                    },
                    {
                        "description": "The identifier for the rule.\n",
                        "in": "path",
                        "name": "ruleId",
                        "required": true,
                        "type": "string",
                        "x-example": "#spam:example.com"
                    },
                    {
                        "description": "Whether the push rule is enabled or not.\n",
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"enabled\": true\n}",
                            "properties": {
                                "enabled": {
                                    "description": "Whether the push rule is enabled or not.",
                                    "type": "boolean"
                                }
                            },
                            "required": [
                                "enabled"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The push rule was enabled or disabled.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Enable or disable a push rule.",
                "tags": [
                    "Push notifications"
                ]
            }
        },
        "/register": {
            "post": {
                "description": "Register for an account on this homeserver.\n\nThere are two kinds of user account:\n\n- `user` accounts. These accounts may use the full API described in this specification.\n\n- `guest` accounts. These accounts may have limited permissions and may not be supported by all servers.",
                "parameters": [
                    {
                        "default": "user",
                        "description": "The kind of account to register. Defaults to `user`.",
                        "enum": [
                            "guest",
                            "user"
                        ],
                        "in": "query",
                        "name": "kind",
                        "required": false,
                        "type": "string",
                        "x-example": "guest"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"username\": \"cheeky_monkey\",\n  \"password\": \"ilovebananas\",\n  \"bind_email\": false\n}",
                            "properties": {
                                "bind_email": {
                                    "description": "If true, the server binds the email used for authentication to\nthe Matrix ID with the ID Server.",
                                    "type": "boolean"
                                },
                                "password": {
                                    "description": "The desired password for the account.",
                                    "type": "string"
                                },
                                "username": {
                                    "description": "The local part of the desired Matrix ID. If omitted,\nthe homeserver MUST generate a Matrix ID local part.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "password"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The account has been registered.",
                        "examples": {
                            "application/json": "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\",\n  \"access_token\": \"abc123\",\n  \"home_server\": \"matrix.org\",\n  \"refresh_token\": \"def456\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "access_token": {
                                    "description": "An access token for the account.\nThis access token can then be used to authorize other requests.\nThe access token may expire at some point, and if so, it SHOULD come with a ``refresh_token``.\nThere is no specific error message to indicate that a request has failed because\nan access token has expired; instead, if a client has reason to believe its\naccess token is valid, and it receives an auth error, they should attempt to\nrefresh for a new token on failure, and retry the request with the new token.",
                                    "type": "string"
                                },
                                "home_server": {
                                    "description": "The hostname of the homeserver on which the account has been registered.",
                                    "type": "string"
                                },
                                "refresh_token": {
                                    "description": "(optional) A ``refresh_token`` may be exchanged for a new ``access_token`` using the /tokenrefresh API endpoint.",
                                    "type": "string"
                                },
                                "user_id": {
                                    "description": "The fully-qualified Matrix ID that has been registered.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "Part of the request was invalid. This may include one of the following error codes:\n\n* ``M_USER_IN_USE`` : The desired user ID is already taken.\n* ``M_INVALID_USERNAME`` : The desired user ID is not a valid user name.\n* ``M_EXCLUSIVE`` : The desired user ID is in the exclusive namespace\n  claimed by an application service.\n\nThese errors may be returned at any stage of the registration process,\nincluding after authentication if the requested user ID was registered\nwhilst the client was performing authentication.\n\nHomeservers MUST perform the relevant checks and return these codes before\nperforming `User-Interactive Authentication`_, although they may also return\nthem after authentication is completed if, for example, the requested user ID\nwas registered whilst the client was performing authentication.",
                        "examples": {
                            "application/json": "{\n    \"errcode\": \"M_USER_IN_USE\",\n    \"error\": \"Desired user ID is already taken.\"\n}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "summary": "Register for an account on this homeserver.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/room/{roomAlias}": {
            "delete": {
                "description": "Remove a mapping of room alias to room ID.\n\nServers may choose to implement additional access control checks here, for instance that room aliases can only be deleted by their creator or a server administrator.",
                "parameters": [
                    {
                        "description": "The room alias to remove.",
                        "in": "path",
                        "name": "roomAlias",
                        "required": true,
                        "type": "string",
                        "x-example": "#monkeys:matrix.org"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The mapping was deleted.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Remove a mapping of room alias to room ID.",
                "tags": [
                    "Room directory"
                ]
            },
            "get": {
                "parameters": [
                    {
                        "description": "The room alias.",
                        "in": "path",
                        "name": "roomAlias",
                        "required": true,
                        "type": "string",
                        "x-example": "#monkeys:matrix.org"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room ID and other information for this alias.",
                        "examples": {
                            "application/json": "{\n  \"room_id\": \"!abnjk1jdasj98:capuchins.com\",\n  \"servers\": [\n    \"capuchins.com\",\n    \"matrix.org\",\n    \"another.com\"\n  ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "room_id": {
                                    "description": "The room ID for this room alias.",
                                    "type": "string"
                                },
                                "servers": {
                                    "description": "A list of servers that are aware of this room ID.",
                                    "items": {
                                        "description": "A server which is aware of this room ID.",
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "404": {
                        "description": "There is no mapped room ID for this room alias.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_NOT_FOUND\",\n  \"error\": \"Room ID !abnjk1jdasj98:capuchins.com not found.\"\n}"
                        }
                    },
                    "409": {
                        "description": "A room alias with that name already exists.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_UNKNOWN\",\n  \"error\": \"Room alias #monkeys:matrix.org already exists.\"\n}"
                        }
                    }
                },
                "summary": "Get the room ID corresponding to this room alias.",
                "tags": [
                    "Room directory"
                ]
            },
            "put": {
                "parameters": [
                    {
                        "description": "The room alias to set.",
                        "in": "path",
                        "name": "roomAlias",
                        "required": true,
                        "type": "string",
                        "x-example": "#monkeys:matrix.org"
                    },
                    {
                        "description": "Information about this room alias.",
                        "in": "body",
                        "name": "roomInfo",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"room_id\": \"!abnjk1jdasj98:capuchins.com\"\n}",
                            "properties": {
                                "room_id": {
                                    "description": "The room ID to set.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The mapping was created.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Create a new mapping from room alias to room ID.",
                "tags": [
                    "Room directory"
                ]
            }
        },
        "/rooms/{roomId}/ban": {
            "post": {
                "description": "Ban a user in the room. If the user is currently in the room, also kick them.\n\nWhen a user is banned from a room, they may not join it or be invited to it until they are unbanned.\n\nThe caller must have the required power level in order to perform this operation.",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) from which the user should be banned.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!e42d8c:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"reason\": \"Telling unfunny jokes\",\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
                            "properties": {
                                "reason": {
                                    "description": "The reason the user has been banned.",
                                    "type": "string"
                                },
                                "user_id": {
                                    "description": "The fully qualified user ID of the user being banned.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "user_id"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been kicked and banned from the room.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to ban the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The banner is not currently in the room.\n- The banner's power level is insufficient to ban users from the room.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to ban from this room.\"\n}"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Ban a user in the room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/context/{eventId}": {
            "get": {
                "description": "This API returns a number of events that happened just before and\nafter the specified event. This allows clients to get the context\nsurrounding an event.",
                "parameters": [
                    {
                        "description": "The room to get events from.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The event to get context around.",
                        "in": "path",
                        "name": "eventId",
                        "required": true,
                        "type": "string",
                        "x-example": "$f3h4d129462ha:example.com"
                    },
                    {
                        "description": "The maximum number of events to return. Default: 10.",
                        "in": "query",
                        "name": "limit",
                        "type": "integer",
                        "x-example": 3
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The events and state surrounding the requested event.",
                        "examples": {
                            "application/json": "{\n  \"end\": \"t29-57_2_0_2\",\n  \"events_after\": [\n    {\n      \"age\": 91911336,\n      \"content\": {\n        \"body\": \"7\",\n        \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14460306086CiUaL:localhost:8480\",\n      \"origin_server_ts\": 1446030608551,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ],\n  \"events_before\": [\n    {\n      \"age\": 91911903,\n      \"content\": {\n        \"body\": \"5\",\n        \"msgtype\": \"m.text\"\n      },\n      \"event_id\": \"$14460306074UYTlh:localhost:8480\",\n      \"origin_server_ts\": 1446030607984,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"type\": \"m.room.message\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ],\n  \"start\": \"t27-54_2_0_2\",\n  \"state\": [\n    {\n      \"age\": 3123715284,\n      \"content\": {\n        \"creator\": \"@test:localhost:8480\"\n      },\n      \"event_id\": \"$14429988040dgQAE:localhost:8480\",\n      \"origin_server_ts\": 1442998804603,\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@test:localhost:8480\"\n    },\n    {\n      \"age\": 2067105053,\n      \"content\": {\n        \"avatar_url\": \"mxc://localhost:8480/tVWZTAIIfqtXMZZtmGCkVjTD#auto\",\n        \"displayname\": \"Bob2\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$14440554144URDbf:localhost:8480\",\n      \"origin_server_ts\": 1444055414834,\n      \"replaces_state\": \"$14440552472PgiGk:localhost:8480\",\n      \"room_id\": \"!sCDvXTtzjpiPxaqkkt:localhost:8480\",\n      \"state_key\": \"@test:localhost:8480\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@test:localhost:8480\"\n    }\n  ]\n}"
                        },
                        "schema": {
                            "description": "The events and state surrounding the requested event.",
                            "properties": {
                                "end": {
                                    "description": "A token that can be used to paginate forwards with.",
                                    "type": "string"
                                },
                                "event": {
                                    "allOf": [
                                        {
                                            "allOf": [
                                                {
                                                    "description": "The basic set of fields all events must have.",
                                                    "properties": {
                                                        "content": {
                                                            "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                            "title": "EventContent",
                                                            "type": "object"
                                                        },
                                                        "type": {
                                                            "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "title": "Event",
                                                    "type": "object"
                                                }
                                            ],
                                            "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                            "properties": {
                                                "event_id": {
                                                    "description": "Required. The globally unique event identifier.",
                                                    "type": "string"
                                                },
                                                "room_id": {
                                                    "description": "Required. The ID of the room associated with this event.",
                                                    "type": "string"
                                                },
                                                "sender": {
                                                    "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                    "type": "string"
                                                },
                                                "unsigned": {
                                                    "description": "Contains optional extra information about the event.",
                                                    "properties": {
                                                        "age": {
                                                            "description": "The time in milliseconds that has elapsed since the event was sent",
                                                            "type": "integer"
                                                        },
                                                        "redacted_because": {
                                                            "description": "The reason this event was redacted, if it was redacted",
                                                            "type": "string"
                                                        },
                                                        "transaction_id": {
                                                            "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "title": "UnsignedData",
                                                    "type": "object"
                                                }
                                            },
                                            "required": [
                                                "event_id",
                                                "room_id",
                                                "sender"
                                            ],
                                            "title": "Room Event",
                                            "type": "object"
                                        }
                                    ],
                                    "description": "Details of the requested event."
                                },
                                "events_after": {
                                    "description": "A list of room events that happened just after the\nrequested event, in chronological order.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "description": "The basic set of fields all events must have.",
                                                        "properties": {
                                                            "content": {
                                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "type": {
                                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                "properties": {
                                                    "event_id": {
                                                        "description": "Required. The globally unique event identifier.",
                                                        "type": "string"
                                                    },
                                                    "room_id": {
                                                        "description": "Required. The ID of the room associated with this event.",
                                                        "type": "string"
                                                    },
                                                    "sender": {
                                                        "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                        "type": "string"
                                                    },
                                                    "unsigned": {
                                                        "description": "Contains optional extra information about the event.",
                                                        "properties": {
                                                            "age": {
                                                                "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                "type": "integer"
                                                            },
                                                            "redacted_because": {
                                                                "description": "The reason this event was redacted, if it was redacted",
                                                                "type": "string"
                                                            },
                                                            "transaction_id": {
                                                                "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "UnsignedData",
                                                        "type": "object"
                                                    }
                                                },
                                                "required": [
                                                    "event_id",
                                                    "room_id",
                                                    "sender"
                                                ],
                                                "title": "Room Event",
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "type": "array"
                                },
                                "events_before": {
                                    "description": "A list of room events that happened just before the\nrequested event, in reverse-chronological order.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "description": "The basic set of fields all events must have.",
                                                        "properties": {
                                                            "content": {
                                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "type": {
                                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                "properties": {
                                                    "event_id": {
                                                        "description": "Required. The globally unique event identifier.",
                                                        "type": "string"
                                                    },
                                                    "room_id": {
                                                        "description": "Required. The ID of the room associated with this event.",
                                                        "type": "string"
                                                    },
                                                    "sender": {
                                                        "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                        "type": "string"
                                                    },
                                                    "unsigned": {
                                                        "description": "Contains optional extra information about the event.",
                                                        "properties": {
                                                            "age": {
                                                                "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                "type": "integer"
                                                            },
                                                            "redacted_because": {
                                                                "description": "The reason this event was redacted, if it was redacted",
                                                                "type": "string"
                                                            },
                                                            "transaction_id": {
                                                                "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "UnsignedData",
                                                        "type": "object"
                                                    }
                                                },
                                                "required": [
                                                    "event_id",
                                                    "room_id",
                                                    "sender"
                                                ],
                                                "title": "Room Event",
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "type": "array"
                                },
                                "start": {
                                    "description": "A token that can be used to paginate backwards with.",
                                    "type": "string"
                                },
                                "state": {
                                    "description": "The state of the room at the last event returned.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "allOf": [
                                                            {
                                                                "description": "The basic set of fields all events must have.",
                                                                "properties": {
                                                                    "content": {
                                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                        "title": "EventContent",
                                                                        "type": "object"
                                                                    },
                                                                    "type": {
                                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                        "properties": {
                                                            "event_id": {
                                                                "description": "Required. The globally unique event identifier.",
                                                                "type": "string"
                                                            },
                                                            "room_id": {
                                                                "description": "Required. The ID of the room associated with this event.",
                                                                "type": "string"
                                                            },
                                                            "sender": {
                                                                "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                "type": "string"
                                                            },
                                                            "unsigned": {
                                                                "description": "Contains optional extra information about the event.",
                                                                "properties": {
                                                                    "age": {
                                                                        "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                        "type": "integer"
                                                                    },
                                                                    "redacted_because": {
                                                                        "description": "The reason this event was redacted, if it was redacted",
                                                                        "type": "string"
                                                                    },
                                                                    "transaction_id": {
                                                                        "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "UnsignedData",
                                                                "type": "object"
                                                            }
                                                        },
                                                        "required": [
                                                            "event_id",
                                                            "room_id",
                                                            "sender"
                                                        ],
                                                        "title": "Room Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                                "properties": {
                                                    "prev_content": {
                                                        "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                        "title": "EventContent",
                                                        "type": "object"
                                                    },
                                                    "state_key": {
                                                        "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "state_key"
                                                ],
                                                "title": "State Event",
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get events and state around the specified event.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/forget": {
            "post": {
                "description": "This API stops a user remembering about a particular room.\n\nIn general, history is a first class citizen in Matrix. After this API\nis called, however, a user will no longer be able to retrieve history\nfor this room. If all users on a homeserver forget a room, the room is\neligible for deletion from that homeserver.\n\nIf the user is currently joined to the room, they will implicitly leave\nthe room as part of this API call.",
                "parameters": [
                    {
                        "description": "The room identifier to forget.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!au1ba7o:matrix.org"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been forgotten.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Stop the requesting user remembering about a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/initialSync": {
            "get": {
                "deprecated": true,
                "description": "Get a copy of the current state and the most recent messages in a room.",
                "parameters": [
                    {
                        "description": "The room to get the data.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The current state of the room",
                        "examples": {
                            "application/json": "{\n  \"membership\": \"join\",\n  \"messages\": {\n    \"chunk\": [\n      {\n        \"age\": 343513403,\n        \"content\": {\n          \"body\": \"foo\",\n          \"msgtype\": \"m.text\"\n        },\n        \"event_id\": \"$14328044851tzTJS:example.com\",\n        \"origin_server_ts\": 1432804485886,\n        \"room_id\": \"!636q39766251:example.com\",\n        \"type\": \"m.room.message\",\n        \"sender\": \"@alice:example.com\"\n      },\n      {\n        \"age\": 343511809,\n        \"content\": {\n          \"body\": \"bar\",\n          \"msgtype\": \"m.text\"\n        },\n        \"event_id\": \"$14328044872spjFg:example.com\",\n        \"origin_server_ts\": 1432804487480,\n        \"room_id\": \"!636q39766251:example.com\",\n        \"type\": \"m.room.message\",\n        \"sender\": \"@bob:example.com\"\n      }\n    ],\n    \"end\": \"s3456_9_0\",\n    \"start\": \"t44-3453_9_0\"\n  },\n  \"room_id\": \"!636q39766251:example.com\",\n  \"state\": [\n    {\n      \"age\": 7148266897,\n      \"content\": {\n        \"join_rule\": \"public\"\n      },\n      \"event_id\": \"$14259997323TLwtb:example.com\",\n      \"origin_server_ts\": 1425999732392,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.join_rules\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 6547561012,\n      \"content\": {\n        \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 7148267200,\n      \"content\": {\n          \"creator\": \"@alice:example.com\"\n      },\n      \"event_id\": \"$14259997320KhbwJ:example.com\",\n      \"origin_server_ts\": 1425999732089,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n    },\n    {\n      \"age\": 7148267004,\n      \"content\": {\n        \"ban\": 50,\n        \"events\": {\n          \"m.room.name\": 100,\n          \"m.room.power_levels\": 100\n        },\n        \"events_default\": 0,\n        \"kick\": 50,\n        \"redact\": 50,\n        \"state_default\": 50,\n        \"users\": {\n          \"@alice:example.com\": 100\n        },\n        \"users_default\": 0\n      },\n      \"event_id\": \"$14259997322mqfaq:example.com\",\n      \"origin_server_ts\": 1425999732285,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.power_levels\",\n      \"sender\": \"@alice:example.com\"\n    }\n  ],\n  \"visibility\": \"private\",\n  \"account_data\": [{\n      \"type\": \"m.tag\",\n      \"content\": {\"tags\": {\"work\": {\"order\": \"1\"}}}\n  }]\n}"
                        },
                        "schema": {
                            "properties": {
                                "account_data": {
                                    "description": "The private data that this user has attached to this room.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "description": "The basic set of fields all events must have.",
                                                "properties": {
                                                    "content": {
                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                        "title": "EventContent",
                                                        "type": "object"
                                                    },
                                                    "type": {
                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                        "type": "string"
                                                    }
                                                },
                                                "title": "Event",
                                                "type": "object"
                                            }
                                        ],
                                        "title": "Event",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "membership": {
                                    "description": "The user's membership state in this room.",
                                    "enum": [
                                        "invite",
                                        "join",
                                        "leave",
                                        "ban"
                                    ],
                                    "type": "string"
                                },
                                "messages": {
                                    "description": "The pagination chunk for this room.",
                                    "properties": {
                                        "chunk": {
                                            "description": "If the user is a member of the room this will be a\nlist of the most recent messages for this room. If\nthe user has left the room this will be the\nmessages that preceeded them leaving. This array\nwill consist of at most ``limit`` elements.",
                                            "items": {
                                                "allOf": [
                                                    {
                                                        "allOf": [
                                                            {
                                                                "description": "The basic set of fields all events must have.",
                                                                "properties": {
                                                                    "content": {
                                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                        "title": "EventContent",
                                                                        "type": "object"
                                                                    },
                                                                    "type": {
                                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                        "properties": {
                                                            "event_id": {
                                                                "description": "Required. The globally unique event identifier.",
                                                                "type": "string"
                                                            },
                                                            "room_id": {
                                                                "description": "Required. The ID of the room associated with this event.",
                                                                "type": "string"
                                                            },
                                                            "sender": {
                                                                "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                "type": "string"
                                                            },
                                                            "unsigned": {
                                                                "description": "Contains optional extra information about the event.",
                                                                "properties": {
                                                                    "age": {
                                                                        "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                        "type": "integer"
                                                                    },
                                                                    "redacted_because": {
                                                                        "description": "The reason this event was redacted, if it was redacted",
                                                                        "type": "string"
                                                                    },
                                                                    "transaction_id": {
                                                                        "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "UnsignedData",
                                                                "type": "object"
                                                            }
                                                        },
                                                        "required": [
                                                            "event_id",
                                                            "room_id",
                                                            "sender"
                                                        ],
                                                        "title": "Room Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "title": "RoomEvent",
                                                "type": "object"
                                            },
                                            "type": "array"
                                        },
                                        "end": {
                                            "description": "A token which correlates to the last value in ``chunk``.\nUsed for pagination.",
                                            "type": "string"
                                        },
                                        "start": {
                                            "description": "A token which correlates to the first value in ``chunk``.\nUsed for pagination.",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "start",
                                        "end",
                                        "chunk"
                                    ],
                                    "title": "PaginationChunk",
                                    "type": "object"
                                },
                                "room_id": {
                                    "description": "The ID of this room.",
                                    "type": "string"
                                },
                                "state": {
                                    "description": "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the\nuser has left the room this will be the state of the\nroom when they left it.",
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "allOf": [
                                                            {
                                                                "description": "The basic set of fields all events must have.",
                                                                "properties": {
                                                                    "content": {
                                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                        "title": "EventContent",
                                                                        "type": "object"
                                                                    },
                                                                    "type": {
                                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                        "properties": {
                                                            "event_id": {
                                                                "description": "Required. The globally unique event identifier.",
                                                                "type": "string"
                                                            },
                                                            "room_id": {
                                                                "description": "Required. The ID of the room associated with this event.",
                                                                "type": "string"
                                                            },
                                                            "sender": {
                                                                "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                "type": "string"
                                                            },
                                                            "unsigned": {
                                                                "description": "Contains optional extra information about the event.",
                                                                "properties": {
                                                                    "age": {
                                                                        "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                        "type": "integer"
                                                                    },
                                                                    "redacted_because": {
                                                                        "description": "The reason this event was redacted, if it was redacted",
                                                                        "type": "string"
                                                                    },
                                                                    "transaction_id": {
                                                                        "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "UnsignedData",
                                                                "type": "object"
                                                            }
                                                        },
                                                        "required": [
                                                            "event_id",
                                                            "room_id",
                                                            "sender"
                                                        ],
                                                        "title": "Room Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                                "properties": {
                                                    "prev_content": {
                                                        "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                        "title": "EventContent",
                                                        "type": "object"
                                                    },
                                                    "state_key": {
                                                        "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "state_key"
                                                ],
                                                "title": "State Event",
                                                "type": "object"
                                            }
                                        ],
                                        "title": "StateEvent",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "visibility": {
                                    "description": "Whether this room is visible to the ``/publicRooms`` API\nor not.\"",
                                    "enum": [
                                        "private",
                                        "public"
                                    ],
                                    "type": "string"
                                }
                            },
                            "required": [
                                "room_id"
                            ],
                            "title": "RoomInfo",
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room and weren't previously a member of the room.\n"
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Snapshot the current state of a room and its most recent messages.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/invite": {
            "post": {
                "description": ".. _invite-by-third-party-id-endpoint:\n\n*Note that there are two forms of this API, which are documented separately.\nThis version of the API does not require that the inviter know the Matrix\nidentifier of the invitee, and instead relies on third party identifiers.\nThe homeserver uses an identity server to perform the mapping from\nthird party identifier to a Matrix identifier. The other is documented in the*\n`joining rooms section`_.\n\nThis API invites a user to participate in a particular room.\nThey do not start participating in the room until they actually join the\nroom.\n\nOnly users currently in a particular room can invite other users to\njoin that room.\n\nIf the identity server did know the Matrix user identifier for the\nthird party identifier, the homeserver will append a ``m.room.member``\nevent to the room.\n\nIf the identity server does not know a Matrix user identifier for the\npassed third party identifier, the homeserver will issue an invitation\nwhich can be accepted upon providing proof of ownership of the third\nparty identifier. This is achieved by the identity server generating a\ntoken, which it gives to the inviting homeserver. The homeserver will\nadd an ``m.room.third_party_invite`` event into the graph for the room,\ncontaining that token.\n\nWhen the invitee binds the invited third party identifier to a Matrix\nuser ID, the identity server will give the user a list of pending\ninvitations, each containing:\n\n- The room ID to which they were invited\n\n- The token given to the homeserver\n\n- A signature of the token, signed with the identity server's private key\n\n- The matrix user ID who invited them to the room\n\nIf a token is requested from the identity server, the homeserver will\nappend a ``m.room.third_party_invite`` event to the room.\n\n.. _joining rooms section: `invite-by-user-id-endpoint`_",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) to which to invite the user.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!d41d8cd:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"id_server\": \"matrix.org\",\n  \"medium\": \"email\",\n  \"address\": \"cheeky@monkey.com\"\n}",
                            "properties": {
                                "address": {
                                    "description": "The invitee's third party identifier.",
                                    "type": "string"
                                },
                                "id_server": {
                                    "description": "The hostname+port of the identity server which should be used for third party identifier lookups.",
                                    "type": "string"
                                },
                                "medium": {
                                    "description": "The kind of address being passed in the address field, for example ``email``.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "id_server",
                                "medium",
                                "address"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been invited to join the room.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to invite the user to the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The invitee has been banned from the room.\n- The invitee is already a member of the room.\n- The inviter is not currently in the room.\n- The inviter's power level is insufficient to invite users to the room.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"@cheeky_monkey:matrix.org is banned from the room\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Invite a user to participate in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/invite ": {
            "post": {
                "description": ".. _invite-by-user-id-endpoint:\n\n*Note that there are two forms of this API, which are documented separately.\nThis version of the API requires that the inviter knows the Matrix\nidentifier of the invitee. The other is documented in the*\n`third party invites section`_.\n\nThis API invites a user to participate in a particular room.\nThey do not start participating in the room until they actually join the\nroom.\n\nOnly users currently in a particular room can invite other users to\njoin that room.\n\nIf the user was invited to the room, the homeserver will append a\n``m.room.member`` event to the room.\n\n.. _third party invites section: `invite-by-third-party-id-endpoint`_",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) to which to invite the user.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!d41d8cd:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
                            "properties": {
                                "user_id": {
                                    "description": "The fully qualified user ID of the invitee.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "user_id"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been invited to join the room.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to invite the user to the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The invitee has been banned from the room.\n- The invitee is already a member of the room.\n- The inviter is not currently in the room.\n- The inviter's power level is insufficient to invite users to the room.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"@cheeky_monkey:matrix.org is banned from the room\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Invite a user to participate in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/join": {
            "post": {
                "description": "*Note that this API requires a room ID, not alias.* ``/join/{roomIdOrAlias}`` *exists if you have a room alias.*\n\nThis API starts a user participating in a particular room, if that user\nis allowed to participate in that room. After this call, the client is\nallowed to see all current state events in the room, and all subsequent\nevents associated with the room until the user leaves the room.\n\nAfter a user has joined a room, the room will appear as an entry in the\nresponse of the |/initialSync|_ and |/sync|_ APIs.\n\nIf a ``third_party_signed`` was supplied, the homeserver must verify\nthat it matches a pending ``m.room.third_party_invite`` event in the\nroom, and perform key validity checking if required by the event.",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) to join.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!d41d8cd:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "third_party_signed",
                        "schema": {
                            "example": "{\n  \"third_party_signed\": {\n    \"sender\": \"@cat:the.hat\",\n    \"mxid\": \"@green:eggs.ham\",\n    \"token\": \"random8nonce\",\n    \"signatures\": {\n      \"horton.hears\": {\n        \"ed25519:0\": \"some9signature\"\n      }\n    }\n  }\n}",
                            "properties": {
                                "third_party_signed": {
                                    "description": "A signature of an ``m.third_party_invite`` token to prove that this user owns a third party identity which has been invited to the room.",
                                    "properties": {
                                        "mxid": {
                                            "description": "The Matrix ID of the invitee.",
                                            "type": "string"
                                        },
                                        "sender": {
                                            "description": "The Matrix ID of the user who issued the invite.",
                                            "type": "string"
                                        },
                                        "signatures": {
                                            "description": "A signatures object containing a signature of the entire signed object.",
                                            "title": "Signatures",
                                            "type": "object"
                                        },
                                        "token": {
                                            "description": "The state key of the m.third_party_invite event.",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "sender",
                                        "mxid",
                                        "token",
                                        "signatures"
                                    ],
                                    "title": "ThirdPartySigned",
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been joined.\n\nThe joined room ID must be returned in the ``room_id`` field.",
                        "examples": {
                            "application/json": "{\"room_id\": \"!d41d8cd:matrix.org\"}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to join the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejection are:\n\n- The room is invite-only and the user was not invited.\n- The user has been banned from the room.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\", \"error\": \"You are not invited to this room.\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Start the requesting user participating in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/kick": {
            "post": {
                "description": "Kick a user from the room.\n\nThe caller must have the required power level in order to perform this operation.",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) from which the user should be kicked.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!e42d8c:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"reason\": \"Telling unfunny jokes\",\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
                            "properties": {
                                "reason": {
                                    "description": "The reason the user has been kicked.",
                                    "type": "string"
                                },
                                "user_id": {
                                    "description": "The fully qualified user ID of the user being kicked.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "user_id"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been kicked from the room.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to kick the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The kicker is not currently in the room.\n- The kickee is not currently in the room.\n- The kicker's power level is insufficient to kick users from the room.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to kick from this room.\"\n}"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Kick a user from the room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/leave": {
            "post": {
                "description": "This API stops a user participating in a particular room.\n\nIf the user was already in the room, they will no longer be able to see\nnew events in the room. If the room requires an invite to join, they\nwill need to be re-invited before they can re-join.\n\nIf the user was invited to the room, but had not joined, this call\nserves to reject the invite.\n\nThe user will still be allowed to retrieve history from the room which\nthey were previously allowed to see.",
                "parameters": [
                    {
                        "description": "The room identifier to leave.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!nkl290a:matrix.org"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The room has been left.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Stop the requesting user participating in a particular room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/rooms/{roomId}/members": {
            "get": {
                "description": "Get the list of members for this room.",
                "parameters": [
                    {
                        "description": "The room to get the member events for.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of members of the room. If you are joined to the room then\nthis will be the current members of the room. If you have left te\nroom then this will be the members of the room when you left.",
                        "examples": {
                            "application/json": "{\n  \"chunk\": [\n    {\n      \"age\": 6547561012,\n      \"content\": {\n        \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n        \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n    },\n    {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n    }\n  ]\n}"
                        },
                        "schema": {
                            "properties": {
                                "chunk": {
                                    "items": {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "allOf": [
                                                            {
                                                                "allOf": [
                                                                    {
                                                                        "description": "The basic set of fields all events must have.",
                                                                        "properties": {
                                                                            "content": {
                                                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                "title": "EventContent",
                                                                                "type": "object"
                                                                            },
                                                                            "type": {
                                                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "title": "Event",
                                                                        "type": "object"
                                                                    }
                                                                ],
                                                                "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                "properties": {
                                                                    "event_id": {
                                                                        "description": "Required. The globally unique event identifier.",
                                                                        "type": "string"
                                                                    },
                                                                    "room_id": {
                                                                        "description": "Required. The ID of the room associated with this event.",
                                                                        "type": "string"
                                                                    },
                                                                    "sender": {
                                                                        "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                        "type": "string"
                                                                    },
                                                                    "unsigned": {
                                                                        "description": "Contains optional extra information about the event.",
                                                                        "properties": {
                                                                            "age": {
                                                                                "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                "type": "integer"
                                                                            },
                                                                            "redacted_because": {
                                                                                "description": "The reason this event was redacted, if it was redacted",
                                                                                "type": "string"
                                                                            },
                                                                            "transaction_id": {
                                                                                "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "title": "UnsignedData",
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "event_id",
                                                                    "room_id",
                                                                    "sender"
                                                                ],
                                                                "title": "Room Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                                        "properties": {
                                                            "prev_content": {
                                                                "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "state_key": {
                                                                "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "required": [
                                                            "state_key"
                                                        ],
                                                        "title": "State Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "Adjusts the membership state for a user in a room. It is preferable to use the membership APIs (``/rooms/<room id>/invite`` etc) when performing membership actions rather than adjusting the state directly as there are a restricted set of valid transformations. For example, user A cannot force user B to join a room, and trying to force this state change directly will fail. \n\nThe following membership states are specified:\n\n- ``invite`` - The user has been invited to join a room, but has not yet joined it. They may not participate in the room until they join.\n\n- ``join`` - The user has joined the room (possibly after accepting an invite), and may participate in it.\n\n- ``leave`` - The user was once joined to the room, but has since left (possibly by choice, or possibly by being kicked).\n\n- ``ban`` - The user has been banned from the room, and is no longer allowed to join it until they are un-banned from the room (by having their membership state set to a value other than ``ban``).\n\n- ``knock`` - This is a reserved word, which currently has no meaning.\n\nThe ``third_party_invite`` property will be set if this invite is an ``invite`` event and is the successor of an ``m.room.third_party_invite`` event, and absent otherwise.\n\nThis event may also include an ``invite_room_state`` key **outside the** ``content`` **key**. If present, this contains an array of ``StrippedState`` Events. These events provide information on a subset of state events such as the room name.",
                                                "properties": {
                                                    "content": {
                                                        "properties": {
                                                            "avatar_url": {
                                                                "description": "The avatar URL for this user, if any. This is added by the homeserver.",
                                                                "type": "string"
                                                            },
                                                            "displayname": {
                                                                "description": "The display name for this user, if any. This is added by the homeserver.",
                                                                "type": [
                                                                    "string",
                                                                    "null"
                                                                ]
                                                            },
                                                            "membership": {
                                                                "description": "The membership state of the user.",
                                                                "enum": [
                                                                    "invite",
                                                                    "join",
                                                                    "knock",
                                                                    "leave",
                                                                    "ban"
                                                                ],
                                                                "type": "string"
                                                            },
                                                            "third_party_invite": {
                                                                "properties": {
                                                                    "display_name": {
                                                                        "description": "A name which can be displayed to represent the user instead of their third party identifier",
                                                                        "type": "string"
                                                                    },
                                                                    "signed": {
                                                                        "description": "A block of content which has been signed, which servers can use to verify the event. Clients should ignore this.",
                                                                        "properties": {
                                                                            "mxid": {
                                                                                "description": "The invited matrix user ID. Must be equal to the user_id property of the event.",
                                                                                "type": "string"
                                                                            },
                                                                            "signatures": {
                                                                                "description": "A single signature from the verifying server, in the format specified by the Signing Events section of the server-server API.",
                                                                                "title": "Signatures",
                                                                                "type": "object"
                                                                            },
                                                                            "token": {
                                                                                "description": "The token property of the containing third_party_invite object.",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "mxid",
                                                                            "signatures",
                                                                            "token"
                                                                        ],
                                                                        "title": "signed",
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "display_name",
                                                                    "signed"
                                                                ],
                                                                "title": "Invite",
                                                                "type": "object"
                                                            }
                                                        },
                                                        "required": [
                                                            "membership"
                                                        ],
                                                        "title": "EventContent",
                                                        "type": "object"
                                                    },
                                                    "invite_room_state": {
                                                        "description": "A subset of the state of the room at the time of the invite, if ``membership`` is ``invite``. Note that this state is informational, and SHOULD NOT be trusted; once the client has joined the room, it SHOULD SHOULD fetch the live state from the server and discard the invite_room_state. Also, clients must not rely on any particular state being present here; they SHOULD behave properly (with possibly a degraded but not a broken experience) in the absence of any particular events here. If they are set on the room, at least the state for ``m.room.avatar``, ``m.room.canonical_alias``, ``m.room.join_rules``, and ``m.room.name`` SHOULD be included.",
                                                        "items": {
                                                            "description": "A stripped down state event, with only the ``type``, ``state_key`` and ``content`` keys.",
                                                            "properties": {
                                                                "content": {
                                                                    "description": "The ``content`` for the event.",
                                                                    "title": "EventContent",
                                                                    "type": "object"
                                                                },
                                                                "state_key": {
                                                                    "description": "The ``state_key`` for the event.",
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "description": "The ``type`` for the event.",
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "type",
                                                                "state_key",
                                                                "content"
                                                            ],
                                                            "title": "StrippedState",
                                                            "type": "object"
                                                        },
                                                        "type": "array"
                                                    },
                                                    "state_key": {
                                                        "description": "The ``user_id`` this membership event relates to.",
                                                        "type": "string"
                                                    },
                                                    "type": {
                                                        "enum": [
                                                            "m.room.member"
                                                        ],
                                                        "type": "string"
                                                    }
                                                },
                                                "title": "The current membership state of a user in the room.",
                                                "type": "object"
                                            }
                                        ],
                                        "title": "MemberEvent",
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room and weren't previously a member of the room.\n"
                    }
                },
                "summary": "Get the m.room.member events for the room.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/messages": {
            "get": {
                "description": "This API returns a list of message and state events for a room. It uses\npagination query parameters to paginate history in the room.",
                "parameters": [
                    {
                        "description": "The room to get events from.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The token to start returning events from. This token can be obtained\nfrom the initial sync API.",
                        "in": "query",
                        "name": "from",
                        "required": true,
                        "type": "string",
                        "x-example": "s345_678_333"
                    },
                    {
                        "description": "The direction to return events from.",
                        "enum": [
                            "b",
                            "f"
                        ],
                        "in": "query",
                        "name": "dir",
                        "required": true,
                        "type": "string",
                        "x-example": "b"
                    },
                    {
                        "description": "The maximum number of events to return. Default: 10.",
                        "in": "query",
                        "name": "limit",
                        "type": "integer",
                        "x-example": "3"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of messages with a new token to request more.",
                        "examples": {
                            "application/json": "{\n  \"start\": \"t47429-4392820_219380_26003_2265\",\n  \"end\": \"t47409-4357353_219380_26003_2265\",\n  \"chunk\": [\n    {\n      \"origin_server_ts\": 1444812213737,\n      \"user_id\": \"@alice:example.com\",\n      \"event_id\": \"$1444812213350496Caaaa:example.com\",\n      \"content\": {\n        \"body\": \"hello world\",\n        \"msgtype\":\"m.text\"\n      },\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.message\",\n      \"age\": 1042\n    },\n    {\n      \"origin_server_ts\": 1444812194656 ,\n      \"user_id\": \"@bob:example.com\",\n      \"event_id\": \"$1444812213350496Cbbbb:example.com\",\n      \"content\": {\n        \"body\": \"the world is big\",\n        \"msgtype\":\"m.text\"\n      },\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.message\",\n      \"age\": 20123\n    },\n    {\n      \"origin_server_ts\": 1444812163990,\n      \"user_id\": \"@bob:example.com\",\n      \"event_id\": \"$1444812213350496Ccccc:example.com\",\n      \"content\": {\n        \"name\": \"New room name\"\n      },\n      \"prev_content\": {\n        \"name\": \"Old room name\"\n      },\n      \"state_key\": \"\",\n      \"room_id\":\"!Xq3620DUiqCaoxq:example.com\",\n      \"type\":\"m.room.name\",\n      \"age\": 50789\n    }\n  ]\n}"
                        },
                        "schema": {
                            "description": "A list of messages with a new token to request more.",
                            "properties": {
                                "chunk": {
                                    "description": "A list of room events.",
                                    "items": {
                                        "title": "RoomEvent",
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "end": {
                                    "description": "The token the pagination ends at. If ``dir=b`` this token should\nbe used again to request even earlier events.",
                                    "type": "string"
                                },
                                "start": {
                                    "description": "The token to start paginating from. If ``dir=b`` this will be\nthe token supplied in ``from``.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room.\n"
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get a list of events for this room",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/receipt/{receiptType}/{eventId}": {
            "post": {
                "description": "This API updates the marker for the given receipt type to the event ID\nspecified.",
                "parameters": [
                    {
                        "description": "The room in which to send the event.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!wefuh21ffskfuh345:example.com"
                    },
                    {
                        "description": "The type of receipt to send.",
                        "enum": [
                            "m.read"
                        ],
                        "in": "path",
                        "name": "receiptType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.read"
                    },
                    {
                        "description": "The event ID to acknowledge up to.",
                        "in": "path",
                        "name": "eventId",
                        "required": true,
                        "type": "string",
                        "x-example": "$1924376522eioj:example.com"
                    },
                    {
                        "description": "Extra receipt information to attach to ``content`` if any. The\nserver will automatically set the ``ts`` field.",
                        "in": "body",
                        "name": "receipt",
                        "schema": {
                            "example": "{}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The receipt was sent.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Send a receipt for the given event ID.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/redact/{eventId}/{txnId}": {
            "put": {
                "description": "Strips all information out of an event which isn't critical to the\nintegrity of the server-side representation of the room.\n\nThis cannot be undone.\n\nUsers may redact their own events, and any user with a power level\ngreater than or equal to the `redact` power level of the room may\nredact events there.",
                "parameters": [
                    {
                        "description": "The room from which to redact the event.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!637q39766251:example.com"
                    },
                    {
                        "description": "The ID of the event to redact",
                        "in": "path",
                        "name": "eventId",
                        "required": true,
                        "type": "string",
                        "x-example": "bai2b1i9:matrix.org"
                    },
                    {
                        "description": "The transaction ID for this event. Clients should generate a\nunique ID; it will be used by the server to ensure idempotency of requests.",
                        "in": "path",
                        "name": "txnId",
                        "required": true,
                        "type": "string",
                        "x-example": "37"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"reason\": \"Indecent material\"\n}",
                            "properties": {
                                "reason": {
                                    "description": "The reason for the event being redacted.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "An ID for the redaction event.",
                        "examples": {
                            "application/json": "{\n    \"event_id\": \"YUwQidLecu\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "event_id": {
                                    "description": "A unique identifier for the event.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Strips all non-integrity-critical information out of an event.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/send/{eventType}/{txnId}": {
            "put": {
                "description": "This endpoint is used to send a message event to a room. Message events\nallow access to historical events and pagination, making them suited\nfor \"once-off\" activity in a room.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the m. event specification.",
                "parameters": [
                    {
                        "description": "The room to send the event to.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The type of event to send.",
                        "in": "path",
                        "name": "eventType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.room.message"
                    },
                    {
                        "description": "The transaction ID for this event. Clients should generate an\nID unique across requests with the same access token; it will be\nused by the server to ensure idempotency of requests.",
                        "in": "path",
                        "name": "txnId",
                        "required": true,
                        "type": "string",
                        "x-example": "35"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"msgtype\": \"m.text\",\n  \"body\": \"hello\"\n}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "An ID for the sent event.",
                        "examples": {
                            "application/json": "{\n    \"event_id\": \"YUwRidLecu\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "event_id": {
                                    "description": "A unique identifier for the event.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Send a message event to the given room.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/state": {
            "get": {
                "description": "Get the state events for the current state of a room.",
                "parameters": [
                    {
                        "description": "The room to look up the state for.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The current state of the room",
                        "examples": {
                            "application/json": "[\n  {\n      \"age\": 7148266897,\n      \"content\": {\n          \"join_rule\": \"public\"\n      },\n      \"event_id\": \"$14259997323TLwtb:example.com\",\n      \"origin_server_ts\": 1425999732392,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.join_rules\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 6547561012,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/fzysBrHpPEeTGANCVLXWXNMI#auto\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1426600438280zExKY:example.com\",\n      \"membership\": \"join\",\n      \"origin_server_ts\": 1426600438277,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@alice:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 7148267200,\n      \"content\": {\n          \"creator\": \"@alice:example.com\"\n      },\n      \"event_id\": \"$14259997320KhbwJ:example.com\",\n      \"origin_server_ts\": 1425999732089,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.create\",\n      \"sender\": \"@alice:example.com\"\n  },\n  {\n      \"age\": 1622568720,\n      \"content\": {\n          \"avatar_url\": \"mxc://example.com/GCmhgzMPRjqgpODLsNQzVuHZ#auto\",\n          \"displayname\": \"Bob\",\n          \"membership\": \"join\"\n      },\n      \"event_id\": \"$1431525430134MxlLX:example.com\",\n      \"origin_server_ts\": 1431525430569,\n      \"replaces_state\": \"$142652023736BSXcM:example.com\",\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"@bob:example.com\",\n      \"type\": \"m.room.member\",\n      \"sender\": \"@bob:example.com\"\n  },\n  {\n      \"age\": 7148267004,\n      \"content\": {\n          \"ban\": 50,\n          \"events\": {\n              \"m.room.name\": 100,\n              \"m.room.power_levels\": 100\n           },\n           \"events_default\": 0,\n           \"kick\": 50,\n           \"redact\": 50,\n           \"state_default\": 50,\n           \"users\": {\n               \"@alice:example.com\": 100\n           },\n           \"users_default\": 0\n      },\n      \"event_id\": \"$14259997322mqfaq:example.com\",\n      \"origin_server_ts\": 1425999732285,\n      \"room_id\": \"!636q39766251:example.com\",\n      \"state_key\": \"\",\n      \"type\": \"m.room.power_levels\",\n      \"sender\": \"@alice:example.com\"\n  }\n]"
                        },
                        "schema": {
                            "description": "If the user is a member of the room this will be the\ncurrent state of the room as a list of events. If the user\nhas left the room then this will be the state of the room\nwhen they left as a list of events.",
                            "items": {
                                "allOf": [
                                    {
                                        "allOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "description": "The basic set of fields all events must have.",
                                                        "properties": {
                                                            "content": {
                                                                "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                "title": "EventContent",
                                                                "type": "object"
                                                            },
                                                            "type": {
                                                                "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "Event",
                                                        "type": "object"
                                                    }
                                                ],
                                                "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                "properties": {
                                                    "event_id": {
                                                        "description": "Required. The globally unique event identifier.",
                                                        "type": "string"
                                                    },
                                                    "room_id": {
                                                        "description": "Required. The ID of the room associated with this event.",
                                                        "type": "string"
                                                    },
                                                    "sender": {
                                                        "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                        "type": "string"
                                                    },
                                                    "unsigned": {
                                                        "description": "Contains optional extra information about the event.",
                                                        "properties": {
                                                            "age": {
                                                                "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                "type": "integer"
                                                            },
                                                            "redacted_because": {
                                                                "description": "The reason this event was redacted, if it was redacted",
                                                                "type": "string"
                                                            },
                                                            "transaction_id": {
                                                                "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "title": "UnsignedData",
                                                        "type": "object"
                                                    }
                                                },
                                                "required": [
                                                    "event_id",
                                                    "room_id",
                                                    "sender"
                                                ],
                                                "title": "Room Event",
                                                "type": "object"
                                            }
                                        ],
                                        "description": "In addition to the Room Event fields, State Events have the following additional fields.",
                                        "properties": {
                                            "prev_content": {
                                                "description": "Optional. The previous ``content`` for this event. If there is no previous content, this key will be missing.",
                                                "title": "EventContent",
                                                "type": "object"
                                            },
                                            "state_key": {
                                                "description": "A unique key which defines the overwriting semantics for this piece of room state. This value is often a zero-length string. The presence of this key makes this event a State Event. The key MUST NOT start with '_'.",
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "state_key"
                                        ],
                                        "title": "State Event",
                                        "type": "object"
                                    }
                                ],
                                "title": "StateEvent",
                                "type": "object"
                            },
                            "title": "RoomState",
                            "type": "array"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room and weren't previously a member of the room.\n"
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get all state events in the current state of a room.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/state/{eventType}": {
            "get": {
                "description": "Looks up the contents of a state event in a room. If the user is\njoined to the room then the state is taken from the current\nstate of the room. If the user has left the room then the state is\ntaken from the state of the room when they left.\n\nThis looks up the state event with the empty state key.",
                "parameters": [
                    {
                        "description": "The room to look up the state in.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The type of state to look up.",
                        "in": "path",
                        "name": "eventType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.room.name"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The content of the state event.",
                        "examples": {
                            "application/json": "{\"name\": \"Example room name\"}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room and weren't previously a member of the room.\n"
                    },
                    "404": {
                        "description": "The room has no state with the given type or key."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get the state identified by the type, with the empty state key.",
                "tags": [
                    "Room participation"
                ]
            },
            "put": {
                "description": "State events can be sent using this endpoint.  These events will be\noverwritten if ``<room id>``, ``<event type>`` and ``<state key>`` all\nmatch. This endpoint forces the state key to be the empty string.\n\nRequests to this endpoint **cannot use transaction IDs**\nlike other ``PUT`` paths because they cannot be differentiated from the\n``state_key``. Furthermore, ``POST`` is unsupported on state paths.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the ``m.`` event specification.\n",
                "parameters": [
                    {
                        "description": "The room to set the state in",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The type of event to send.",
                        "in": "path",
                        "name": "eventType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.room.name"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n    \"name\": \"New name for the room\"\n}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "An ID for the sent event.",
                        "examples": {
                            "application/json": "{\n    \"event_id\": \"YUwRidLecu\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "event_id": {
                                    "description": "A unique identifier for the event.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Send a state event to the given room.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/state/{eventType}/{stateKey}": {
            "get": {
                "description": "Looks up the contents of a state event in a room. If the user is\njoined to the room then the state is taken from the current\nstate of the room. If the user has left the room then the state is\ntaken from the state of the room when they left.",
                "parameters": [
                    {
                        "description": "The room to look up the state in.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The type of state to look up.",
                        "in": "path",
                        "name": "eventType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.room.name"
                    },
                    {
                        "description": "The key of the state to look up.",
                        "in": "path",
                        "name": "stateKey",
                        "required": true,
                        "type": "string",
                        "x-example": ""
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The content of the state event.",
                        "examples": {
                            "application/json": "{\"name\": \"Example room name\"}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You aren't a member of the room and weren't previously a member of the room.\n"
                    },
                    "404": {
                        "description": "The room has no state with the given type or key."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Get the state identified by the type and key.",
                "tags": [
                    "Room participation"
                ]
            },
            "put": {
                "description": "State events can be sent using this endpoint. This endpoint is\nequivalent to calling `/rooms/{roomId}/state/{eventType}/{stateKey}`\nwith an empty `stateKey`. Previous state events with matching\n`<roomId>` and `<eventType>`, and empty `<stateKey>`, will be overwritten.\n\nRequests to this endpoint **cannot use transaction IDs**\nlike other ``PUT`` paths because they cannot be differentiated from the\n``state_key``. Furthermore, ``POST`` is unsupported on state paths.\n\nThe body of the request should be the content object of the event; the\nfields in this object will vary depending on the type of event. See\n`Room Events`_ for the ``m.`` event specification.\n",
                "parameters": [
                    {
                        "description": "The room to set the state in",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!636q39766251:example.com"
                    },
                    {
                        "description": "The type of event to send.",
                        "in": "path",
                        "name": "eventType",
                        "required": true,
                        "type": "string",
                        "x-example": "m.room.name"
                    },
                    {
                        "description": "The state_key for the state to send. Defaults to the empty string.",
                        "in": "path",
                        "name": "stateKey",
                        "required": true,
                        "type": "string",
                        "x-example": ""
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n    \"name\": \"New name for the room\"\n}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "An ID for the sent event.",
                        "examples": {
                            "application/json": "{\n    \"event_id\": \"YUwRidLecu\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "event_id": {
                                    "description": "A unique identifier for the event.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Send a state event to the given room.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/typing/{userId}": {
            "put": {
                "description": "This tells the server that the user is typing for the next N\nmilliseconds where N is the value specified in the ``timeout`` key.\nAlternatively, if ``typing`` is ``false``, it tells the server that the\nuser has stopped typing.",
                "parameters": [
                    {
                        "description": "The user who has started to type.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The room in which the user is typing.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!wefh3sfukhs:example.com"
                    },
                    {
                        "description": "The current typing state.",
                        "in": "body",
                        "name": "typingState",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"typing\": true,\n  \"timeout\": 30000\n}",
                            "properties": {
                                "timeout": {
                                    "description": "The length of time in milliseconds to mark this user as typing.",
                                    "type": "integer"
                                },
                                "typing": {
                                    "description": "Whether the user is typing or not. If ``false``, the ``timeout``\nkey can be omitted.",
                                    "type": "boolean"
                                }
                            },
                            "required": [
                                "typing"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The new typing state was set.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Informs the server that the user has started or stopped typing.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/rooms/{roomId}/unban": {
            "post": {
                "description": "Unban a user from the room. This allows them to be invited to the room,\nand join if they would otherwise be allowed to join according to its join rules.\n\nThe caller must have the required power level in order to perform this operation.",
                "parameters": [
                    {
                        "description": "The room identifier (not alias) from which the user should be unbanned.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!e42d8c:matrix.org"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\n  \"user_id\": \"@cheeky_monkey:matrix.org\"\n}",
                            "properties": {
                                "user_id": {
                                    "description": "The fully qualified user ID of the user being unbanned.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "user_id"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The user has been unbanned from the room.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "You do not have permission to unban the user from the room. A meaningful ``errcode`` and description error text will be returned. Example reasons for rejections are:\n\n- The unbanner's power level is insufficient to unban users from the room.",
                        "examples": {
                            "application/json": "{\n  \"errcode\": \"M_FORBIDDEN\",\n  \"error\": \"You do not have a high enough power level to unban from this room.\"\n}"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Unban a user from the room.",
                "tags": [
                    "Room membership"
                ]
            }
        },
        "/search": {
            "post": {
                "description": "Performs a full text search across different categories.",
                "parameters": [
                    {
                        "description": "The point to return events from. If given, this should be a\n`next_batch` result from a previous call to this endpoint.",
                        "in": "query",
                        "name": "next_batch",
                        "type": "string",
                        "x-example": "YWxsCgpOb25lLDM1ODcwOA"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"search_categories\": {\n    \"room_events\": {\n      \"keys\": [\n        \"content.body\"\n      ],\n      \"search_term\": \"martians and men\"\n    }\n  },\n  \"order_by\": \"recent\",\n  \"groupings\": {\n    \"group_by\": [\n      {\n        \"key\": \"room_id\"\n      }\n    ]\n  }\n}",
                            "properties": {
                                "search_categories": {
                                    "description": "Describes which categories to search in and their criteria.",
                                    "properties": {
                                        "room_events": {
                                            "description": "Mapping of category name to search criteria.",
                                            "properties": {
                                                "event_context": {
                                                    "description": "Configures whether any context for the events\nreturned are included in the response.",
                                                    "properties": {
                                                        "after_limit": {
                                                            "description": "How many events after the result are\nreturned.",
                                                            "title": "After limit",
                                                            "type": "integer"
                                                        },
                                                        "before_limit": {
                                                            "description": "How many events before the result are\nreturned.",
                                                            "title": "Before limit",
                                                            "type": "integer"
                                                        },
                                                        "include_profile": {
                                                            "description": "Requests that the server returns the\nhistoric profile information for the users\nthat sent the events that were returned.",
                                                            "title": "Return profile information",
                                                            "type": "boolean"
                                                        }
                                                    },
                                                    "title": "Event Context",
                                                    "type": "object"
                                                },
                                                "filter": {
                                                    "description": "This takes a `filter <https://matrix.org/docs/spec/unstable/client_server.html#filtering>`_.",
                                                    "title": "Filter",
                                                    "type": "object"
                                                },
                                                "groupings": {
                                                    "description": "Requests that the server partitions the result set\nbased on the provided list of keys.",
                                                    "properties": {
                                                        "group_by": {
                                                            "description": "List of groups to request.",
                                                            "items": {
                                                                "description": "Configuration for group.",
                                                                "properties": {
                                                                    "key": {
                                                                        "description": "Key that defines the group.",
                                                                        "enum": [
                                                                            "room_id",
                                                                            "sender"
                                                                        ],
                                                                        "title": "Group Key",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "Group",
                                                                "type": "object"
                                                            },
                                                            "title": "Groups",
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "Groupings",
                                                    "type": "object"
                                                },
                                                "include_state": {
                                                    "description": "Requests the server return the current state for\neach room returned.",
                                                    "title": "Include current state",
                                                    "type": "boolean"
                                                },
                                                "keys": {
                                                    "description": "The keys to search. Defaults to all.",
                                                    "items": {
                                                        "enum": [
                                                            "content.body",
                                                            "content.name",
                                                            "content.topic"
                                                        ],
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "order_by": {
                                                    "description": "The order in which to search for results.",
                                                    "enum": [
                                                        "recent",
                                                        "rank"
                                                    ],
                                                    "title": "Ordering",
                                                    "type": "string"
                                                },
                                                "search_term": {
                                                    "description": "The string to search events for",
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "search_term"
                                            ],
                                            "title": "Room Events",
                                            "type": "object"
                                        }
                                    },
                                    "title": "Categories",
                                    "type": "object"
                                }
                            },
                            "required": [
                                "search_categories"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Results of the search.",
                        "examples": {
                            "application/json": "{\n   \"search_categories\": {\n     \"room_events\": {\n       \"groups\": {\n         \"room_id\": {\n           \"!qPewotXpIctQySfjSy:localhost\": {\n             \"order\": 1,\n             \"next_batch\": \"BdgFsdfHSf-dsFD\",\n             \"results\": [\n               \"$144429830826TWwbB:localhost\"\n             ]\n           }\n         }\n       },\n       \"next_batch\": \"5FdgFsd234dfgsdfFD\",\n       \"count\": 1224,\n       \"results\": [\n         {\n           \"rank\": 0.00424866,\n           \"result\": {\n             \"age\": 526228296,\n             \"content\": {\n               \"body\": \"Test content martians and men\",\n               \"msgtype\": \"m.text\"\n             },\n             \"event_id\": \"$144429830826TWwbB:localhost\",\n             \"origin_server_ts\": 1444298308034,\n             \"room_id\": \"!qPewotXpIctQySfjSy:localhost\",\n             \"type\": \"m.room.message\",\n             \"sender\": \"@test:localhost\"\n           }\n         }\n       ]\n     }\n   }\n }"
                        },
                        "schema": {
                            "properties": {
                                "search_categories": {
                                    "description": "Describes which categories to search in and their criteria.",
                                    "properties": {
                                        "room_events": {
                                            "description": "Mapping of category name to search criteria.",
                                            "properties": {
                                                "count": {
                                                    "description": "An approximate count of the total number of results found.",
                                                    "type": "number"
                                                },
                                                "groups": {
                                                    "additionalProperties": {
                                                        "additionalProperties": {
                                                            "description": "The results for a particular group value.",
                                                            "properties": {
                                                                "next_batch": {
                                                                    "description": "Token that can be used to get the next batch\nof results in the group, by passing as the\n`next_batch` parameter to the next call. If\nthis field is absent, there are no more\nresults in this group.",
                                                                    "title": "Next Batch in Group",
                                                                    "type": "string"
                                                                },
                                                                "order": {
                                                                    "description": "Key that can be used to order different\ngroups.",
                                                                    "title": "Group Order",
                                                                    "type": "integer"
                                                                },
                                                                "results": {
                                                                    "description": "Which results are in this group.",
                                                                    "items": {
                                                                        "title": "Result Event ID",
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "Group Value",
                                                            "type": "object"
                                                        },
                                                        "description": "The results for a given group.",
                                                        "title": "Group Key",
                                                        "type": "object"
                                                    },
                                                    "description": "Any groups that were requested.",
                                                    "title": "Groups",
                                                    "type": "object"
                                                },
                                                "next_batch": {
                                                    "description": "Token that can be used to get the next batch of\nresults, by passing as the `next_batch` parameter to\nthe next call. If this field is absent, there are no\nmore results.",
                                                    "title": "Next Batch",
                                                    "type": "string"
                                                },
                                                "results": {
                                                    "description": "List of results in the requested order.",
                                                    "items": {
                                                        "description": "The result object.",
                                                        "properties": {
                                                            "context": {
                                                                "description": "Context for result, if requested.",
                                                                "properties": {
                                                                    "end": {
                                                                        "description": "Pagination token for the end of the chunk",
                                                                        "title": "End Token",
                                                                        "type": "string"
                                                                    },
                                                                    "events_after": {
                                                                        "description": "Events just after the result.",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "description": "The basic set of fields all events must have.",
                                                                                            "properties": {
                                                                                                "content": {
                                                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "type": {
                                                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Event",
                                                                                            "type": "object"
                                                                                        }
                                                                                    ],
                                                                                    "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                                    "properties": {
                                                                                        "event_id": {
                                                                                            "description": "Required. The globally unique event identifier.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "room_id": {
                                                                                            "description": "Required. The ID of the room associated with this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Contains optional extra information about the event.",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "redacted_because": {
                                                                                                    "description": "The reason this event was redacted, if it was redacted",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "UnsignedData",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "required": [
                                                                                        "event_id",
                                                                                        "room_id",
                                                                                        "sender"
                                                                                    ],
                                                                                    "title": "Room Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "title": "Event",
                                                                            "type": "object"
                                                                        },
                                                                        "title": "Events After",
                                                                        "type": "array"
                                                                    },
                                                                    "events_before": {
                                                                        "description": "Events just before the result.",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "description": "The basic set of fields all events must have.",
                                                                                            "properties": {
                                                                                                "content": {
                                                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "type": {
                                                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Event",
                                                                                            "type": "object"
                                                                                        }
                                                                                    ],
                                                                                    "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                                    "properties": {
                                                                                        "event_id": {
                                                                                            "description": "Required. The globally unique event identifier.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "room_id": {
                                                                                            "description": "Required. The ID of the room associated with this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Contains optional extra information about the event.",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "redacted_because": {
                                                                                                    "description": "The reason this event was redacted, if it was redacted",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "UnsignedData",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "required": [
                                                                                        "event_id",
                                                                                        "room_id",
                                                                                        "sender"
                                                                                    ],
                                                                                    "title": "Room Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "title": "Event",
                                                                            "type": "object"
                                                                        },
                                                                        "title": "Events Before",
                                                                        "type": "array"
                                                                    },
                                                                    "profile_info": {
                                                                        "additionalProperties": {
                                                                            "properties": {
                                                                                "avatar_url": {
                                                                                    "title": "Avatar Url",
                                                                                    "type": "string"
                                                                                },
                                                                                "displayname": {
                                                                                    "title": "Display name",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "User Profile",
                                                                            "type": "object"
                                                                        },
                                                                        "description": "The historic profile information of the\nusers that sent the events returned.",
                                                                        "title": "Profile Information",
                                                                        "type": "object"
                                                                    },
                                                                    "start": {
                                                                        "description": "Pagination token for the start of the chunk",
                                                                        "title": "Start Token",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "title": "Event Context",
                                                                "type": "object"
                                                            },
                                                            "rank": {
                                                                "description": "A number that describes how closely this result matches the search. Higher is closer.",
                                                                "type": "number"
                                                            },
                                                            "result": {
                                                                "allOf": [
                                                                    {
                                                                        "allOf": [
                                                                            {
                                                                                "description": "The basic set of fields all events must have.",
                                                                                "properties": {
                                                                                    "content": {
                                                                                        "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                        "title": "EventContent",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "type": {
                                                                                        "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "title": "Event",
                                                                                "type": "object"
                                                                            }
                                                                        ],
                                                                        "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                        "properties": {
                                                                            "event_id": {
                                                                                "description": "Required. The globally unique event identifier.",
                                                                                "type": "string"
                                                                            },
                                                                            "room_id": {
                                                                                "description": "Required. The ID of the room associated with this event.",
                                                                                "type": "string"
                                                                            },
                                                                            "sender": {
                                                                                "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                                "type": "string"
                                                                            },
                                                                            "unsigned": {
                                                                                "description": "Contains optional extra information about the event.",
                                                                                "properties": {
                                                                                    "age": {
                                                                                        "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                        "type": "integer"
                                                                                    },
                                                                                    "redacted_because": {
                                                                                        "description": "The reason this event was redacted, if it was redacted",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "transaction_id": {
                                                                                        "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "title": "UnsignedData",
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "event_id",
                                                                            "room_id",
                                                                            "sender"
                                                                        ],
                                                                        "title": "Room Event",
                                                                        "type": "object"
                                                                    }
                                                                ],
                                                                "description": "The event that matched.",
                                                                "title": "Event",
                                                                "type": "object"
                                                            }
                                                        },
                                                        "title": "Result",
                                                        "type": "object"
                                                    },
                                                    "title": "Results",
                                                    "type": "array"
                                                },
                                                "state": {
                                                    "additionalProperties": {
                                                        "items": {
                                                            "allOf": [
                                                                {
                                                                    "allOf": [
                                                                        {
                                                                            "description": "The basic set of fields all events must have.",
                                                                            "properties": {
                                                                                "content": {
                                                                                    "description": "The fields in this object will vary depending on the type of event. When interacting with the REST API, this is the HTTP body.",
                                                                                    "title": "EventContent",
                                                                                    "type": "object"
                                                                                },
                                                                                "type": {
                                                                                    "description": "The type of event. This SHOULD be namespaced similar to Java package naming conventions e.g. 'com.example.subdomain.event.type'",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "Event",
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "description": "In addition to the Event fields, Room Events may have the following additional fields.",
                                                                    "properties": {
                                                                        "event_id": {
                                                                            "description": "Required. The globally unique event identifier.",
                                                                            "type": "string"
                                                                        },
                                                                        "room_id": {
                                                                            "description": "Required. The ID of the room associated with this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "sender": {
                                                                            "description": "Required. Contains the fully-qualified ID of the user who *sent* this event.",
                                                                            "type": "string"
                                                                        },
                                                                        "unsigned": {
                                                                            "description": "Contains optional extra information about the event.",
                                                                            "properties": {
                                                                                "age": {
                                                                                    "description": "The time in milliseconds that has elapsed since the event was sent",
                                                                                    "type": "integer"
                                                                                },
                                                                                "redacted_because": {
                                                                                    "description": "The reason this event was redacted, if it was redacted",
                                                                                    "type": "string"
                                                                                },
                                                                                "transaction_id": {
                                                                                    "description": "The client-supplied transaction ID, if the client being given the event is the same one which sent it.",
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "title": "UnsignedData",
                                                                            "type": "object"
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "event_id",
                                                                        "room_id",
                                                                        "sender"
                                                                    ],
                                                                    "title": "Room Event",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "title": "Event",
                                                            "type": "object"
                                                        },
                                                        "title": "Room State",
                                                        "type": "array"
                                                    },
                                                    "description": "The current state for every room in the results.\nThis is included if the request had the\n``include_state`` key set with a value of ``true``.",
                                                    "title": "Current state",
                                                    "type": "object"
                                                }
                                            },
                                            "title": "Room Event Results",
                                            "type": "object"
                                        }
                                    },
                                    "title": "Categories",
                                    "type": "object"
                                }
                            },
                            "required": [
                                "search_categories"
                            ],
                            "title": "Results",
                            "type": "object"
                        }
                    },
                    "400": {
                        "description": "Part of the request was invalid."
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Perform a server-side search.",
                "tags": [
                    "Search"
                ]
            }
        },
        "/sync": {
            "get": {
                "description": "Synchronise the client's state with the latest state on the server.\nClients use this API when they first log in to get an initial snapshot\nof the state on the server, and then continue to call this API to get\nincremental deltas to the state, and to receive new messages.",
                "parameters": [
                    {
                        "description": "The ID of a filter created using the filter API or a filter JSON\nobject encoded as a string. The server will detect whether it is\nan ID or a JSON object by whether the first character is a ``\"{\"``\nopen brace. Passing the JSON inline is best suited to one off\nrequests. Creating a filter using the filter API is recommended for\nclients that reuse the same filter multiple times, for example in\nlong poll requests.",
                        "in": "query",
                        "name": "filter",
                        "type": "string",
                        "x-example": "66696p746572"
                    },
                    {
                        "description": "A point in time to continue a sync from.",
                        "in": "query",
                        "name": "since",
                        "type": "string",
                        "x-example": "s72594_4483_1934"
                    },
                    {
                        "description": "Controls whether to include the full state for all rooms the user\nis a member of.\n\nIf this is set to ``true``, then all state events will be returned,\neven if ``since`` is non-empty. The timeline will still be limited\nby the ``since`` parameter. In this case, the ``timeout`` parameter\nwill be ignored and the query will return immediately, possibly with\nan empty timeline.\n\nIf ``false``, and ``since`` is non-empty, only state which has\nchanged since the point indicated by ``since`` will be returned.\n\nBy default, this is ``false``.",
                        "in": "query",
                        "name": "full_state",
                        "type": "boolean",
                        "x-example": "false"
                    },
                    {
                        "description": "Controls whether the client is automatically marked as online by\npolling this API. If this parameter is omitted then the client is\nautomatically marked as online when it uses this API. Otherwise if\nthe parameter is set to \"offline\" then the client is not marked as\nbeing online when it uses this API.",
                        "enum": [
                            "offline"
                        ],
                        "in": "query",
                        "name": "set_presence",
                        "type": "string",
                        "x-example": "offline"
                    },
                    {
                        "description": "The maximum time to poll in milliseconds before returning this\nrequest.",
                        "in": "query",
                        "name": "timeout",
                        "type": "integer",
                        "x-example": 30000
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The initial snapshot or delta for the client to use to update their state.",
                        "examples": {
                            "application/json": "{\n  \"next_batch\": \"s72595_4483_1934\",\n  \"presence\": {\n    \"events\": [\n      {\n        \"sender\": \"@alice:example.com\",\n        \"type\": \"m.presence\",\n        \"content\": {\"presence\": \"online\"}\n      }\n    ]\n  },\n  \"account_data\": {\n    \"events\": [\n      {\n        \"type\": \"org.example.custom.config\",\n        \"content\": {\n          \"custom_config_key\": \"custom_config_value\"\n        }\n      }\n    ]\n  },\n  \"rooms\": {\n    \"join\": {\n      \"!726s6s6q:example.com\": {\n        \"state\": {\n          \"events\": [\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@alice:example.com\",\n              \"content\": {\"membership\": \"join\"},\n              \"origin_server_ts\": 1417731086795,\n              \"event_id\": \"$66697273743031:example.com\"\n            }\n          ]\n        },\n        \"timeline\": {\n          \"events\": [\n            {\n              \"sender\": \"@bob:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@bob:example.com\",\n              \"content\": {\"membership\": \"join\"},\n              \"prev_content\": {\"membership\": \"invite\"},\n              \"origin_server_ts\": 1417731086795,\n              \"event_id\": \"$7365636s6r6432:example.com\"\n            },\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.message\",\n              \"age\": 124524,\n              \"txn_id\": \"1234\",\n              \"content\": {\n                \"body\": \"I am a fish\",\n                \"msgtype\": \"m.text\"\n              },\n              \"origin_server_ts\": 1417731086797,\n              \"event_id\": \"$74686972643033:example.com\"\n            }\n          ],\n          \"limited\": true,\n          \"prev_batch\": \"t34-23535_0_0\"\n        },\n        \"ephemeral\": {\n          \"events\": [\n            {\n              \"type\": \"m.typing\",\n              \"content\": {\"user_ids\": [\"@alice:example.com\"]}\n            }\n          ]\n        },\n        \"account_data\": {\n          \"events\": [\n            {\n              \"type\": \"m.tag\",\n              \"content\": {\"tags\": {\"work\": {\"order\": 1}}}\n            },\n            {\n              \"type\": \"org.example.custom.room.config\",\n              \"content\": {\n                \"custom_config_key\": \"custom_config_value\"\n              }\n            }\n          ]\n        }\n      }\n    },\n    \"invite\": {\n      \"!696r7674:example.com\": {\n        \"invite_state\": {\n          \"events\": [\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.name\",\n              \"state_key\": \"\",\n              \"content\": {\"name\": \"My Room Name\"}\n            },\n            {\n              \"sender\": \"@alice:example.com\",\n              \"type\": \"m.room.member\",\n              \"state_key\": \"@bob:example.com\",\n              \"content\": {\"membership\": \"invite\"}\n            }\n          ]\n        }\n      }\n    },\n    \"leave\": {}\n  }\n}"
                        },
                        "schema": {
                            "properties": {
                                "next_batch": {
                                    "description": "The batch token to supply in the ``since`` param of the next\n``/sync`` request.",
                                    "type": "string"
                                },
                                "presence": {
                                    "allOf": [
                                        {
                                            "properties": {
                                                "events": {
                                                    "description": "List of events",
                                                    "items": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "content": {
                                                                        "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                        "title": "EventContent",
                                                                        "type": "object"
                                                                    },
                                                                    "origin_server_ts": {
                                                                        "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                        "format": "int64",
                                                                        "type": "integer"
                                                                    },
                                                                    "sender": {
                                                                        "description": "The MXID of the user who sent this event.",
                                                                        "type": "string"
                                                                    },
                                                                    "state_key": {
                                                                        "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                        "type": "string"
                                                                    },
                                                                    "type": {
                                                                        "description": "The type of event.",
                                                                        "type": "string"
                                                                    },
                                                                    "unsigned": {
                                                                        "description": "Information about this event which was not sent by the originating homeserver",
                                                                        "properties": {
                                                                            "age": {
                                                                                "description": "Time in milliseconds since the event was sent.",
                                                                                "format": "int64",
                                                                                "type": "integer"
                                                                            },
                                                                            "prev_content": {
                                                                                "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                "title": "EventContent",
                                                                                "type": "object"
                                                                            },
                                                                            "transaction_id": {
                                                                                "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "title": "Unsigned",
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "title": "Event",
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ],
                                    "description": "The updates to the presence status of other users.",
                                    "title": "Presence",
                                    "type": "object"
                                },
                                "rooms": {
                                    "description": "Updates to rooms.",
                                    "properties": {
                                        "invite": {
                                            "additionalProperties": {
                                                "properties": {
                                                    "invite_state": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "events": {
                                                                        "description": "List of events",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "properties": {
                                                                                        "content": {
                                                                                            "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                            "title": "EventContent",
                                                                                            "type": "object"
                                                                                        },
                                                                                        "origin_server_ts": {
                                                                                            "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                            "format": "int64",
                                                                                            "type": "integer"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "The MXID of the user who sent this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "state_key": {
                                                                                            "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "type": {
                                                                                            "description": "The type of event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Information about this event which was not sent by the originating homeserver",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "Time in milliseconds since the event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "prev_content": {
                                                                                                    "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Unsigned",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "title": "Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "type": "object"
                                                                        },
                                                                        "type": "array"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The state of a room that the user has been invited\nto. These state events may only have the ``sender``,\n``type``, ``state_key`` and ``content`` keys\npresent. These events do not replace any state that\nthe client already has for the room, for example if\nthe client has archived the room. Instead the\nclient should keep two separate copies of the\nstate: the one from the ``invite_state`` and one\nfrom the archived ``state``. If the client joins\nthe room then the current state will be given as a\ndelta against the archived ``state`` not the\n``invite_state``.",
                                                        "title": "InviteState",
                                                        "type": "object"
                                                    }
                                                },
                                                "title": "Invited Room",
                                                "type": "object"
                                            },
                                            "description": "The rooms that the user has been invited to.",
                                            "title": "Invited Rooms",
                                            "type": "object"
                                        },
                                        "join": {
                                            "additionalProperties": {
                                                "properties": {
                                                    "account_data": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "events": {
                                                                        "description": "List of events",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "properties": {
                                                                                        "content": {
                                                                                            "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                            "title": "EventContent",
                                                                                            "type": "object"
                                                                                        },
                                                                                        "origin_server_ts": {
                                                                                            "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                            "format": "int64",
                                                                                            "type": "integer"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "The MXID of the user who sent this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "state_key": {
                                                                                            "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "type": {
                                                                                            "description": "The type of event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Information about this event which was not sent by the originating homeserver",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "Time in milliseconds since the event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "prev_content": {
                                                                                                    "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Unsigned",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "title": "Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "type": "object"
                                                                        },
                                                                        "type": "array"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The private data that this user has attached to\nthis room.",
                                                        "title": "Account Data",
                                                        "type": "object"
                                                    },
                                                    "ephemeral": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "events": {
                                                                        "description": "List of events",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "properties": {
                                                                                        "content": {
                                                                                            "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                            "title": "EventContent",
                                                                                            "type": "object"
                                                                                        },
                                                                                        "origin_server_ts": {
                                                                                            "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                            "format": "int64",
                                                                                            "type": "integer"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "The MXID of the user who sent this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "state_key": {
                                                                                            "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "type": {
                                                                                            "description": "The type of event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Information about this event which was not sent by the originating homeserver",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "Time in milliseconds since the event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "prev_content": {
                                                                                                    "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Unsigned",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "title": "Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "type": "object"
                                                                        },
                                                                        "type": "array"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The ephemeral events in the room that aren't\nrecorded in the timeline or state of the room.\ne.g. typing.",
                                                        "title": "Ephemeral",
                                                        "type": "object"
                                                    },
                                                    "state": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "events": {
                                                                        "description": "List of events",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "properties": {
                                                                                        "content": {
                                                                                            "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                            "title": "EventContent",
                                                                                            "type": "object"
                                                                                        },
                                                                                        "origin_server_ts": {
                                                                                            "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                            "format": "int64",
                                                                                            "type": "integer"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "The MXID of the user who sent this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "state_key": {
                                                                                            "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "type": {
                                                                                            "description": "The type of event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Information about this event which was not sent by the originating homeserver",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "Time in milliseconds since the event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "prev_content": {
                                                                                                    "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Unsigned",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "title": "Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "type": "object"
                                                                        },
                                                                        "type": "array"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "Updates to the state, between the time indicated by\nthe ``since`` parameter, and the start of the\n``timeline`` (or all state up to the start of the\n``timeline``, if ``since`` is not given, or\n``full_state`` is true).",
                                                        "title": "State",
                                                        "type": "object"
                                                    },
                                                    "timeline": {
                                                        "allOf": [
                                                            {
                                                                "allOf": [
                                                                    {
                                                                        "properties": {
                                                                            "events": {
                                                                                "description": "List of events",
                                                                                "items": {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "properties": {
                                                                                                "content": {
                                                                                                    "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "origin_server_ts": {
                                                                                                    "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "sender": {
                                                                                                    "description": "The MXID of the user who sent this event.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "state_key": {
                                                                                                    "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "type": {
                                                                                                    "description": "The type of event.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "unsigned": {
                                                                                                    "description": "Information about this event which was not sent by the originating homeserver",
                                                                                                    "properties": {
                                                                                                        "age": {
                                                                                                            "description": "Time in milliseconds since the event was sent.",
                                                                                                            "format": "int64",
                                                                                                            "type": "integer"
                                                                                                        },
                                                                                                        "prev_content": {
                                                                                                            "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                            "title": "EventContent",
                                                                                                            "type": "object"
                                                                                                        },
                                                                                                        "transaction_id": {
                                                                                                            "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                            "type": "string"
                                                                                                        }
                                                                                                    },
                                                                                                    "title": "Unsigned",
                                                                                                    "type": "object"
                                                                                                }
                                                                                            },
                                                                                            "title": "Event",
                                                                                            "type": "object"
                                                                                        }
                                                                                    ],
                                                                                    "type": "object"
                                                                                },
                                                                                "type": "array"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                ],
                                                                "properties": {
                                                                    "limited": {
                                                                        "description": "True if the number of events returned was limited by the ``limit`` on the filter",
                                                                        "type": "boolean"
                                                                    },
                                                                    "prev_batch": {
                                                                        "description": "If the batch was limited then this is a token that can be supplied to the server to retrieve earlier events",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The timeline of messages and state changes in the\nroom.",
                                                        "title": "Timeline",
                                                        "type": "object"
                                                    },
                                                    "unread_notifications": {
                                                        "description": "Counts of unread notifications for this room",
                                                        "properties": {
                                                            "highlight_count": {
                                                                "description": "The number of unread notifications for this room with the highlight flag set",
                                                                "title": "Highlighted notification count",
                                                                "type": "integer"
                                                            },
                                                            "notification_count": {
                                                                "description": "The total number of unread notifications for this room",
                                                                "title": "Total notification count",
                                                                "type": "integer"
                                                            }
                                                        },
                                                        "title": "Unread Notification Counts",
                                                        "type": "object"
                                                    }
                                                },
                                                "title": "Joined Room",
                                                "type": "object"
                                            },
                                            "description": "The rooms that the user has joined.",
                                            "title": "Joined Rooms",
                                            "type": "object"
                                        },
                                        "leave": {
                                            "additionalProperties": {
                                                "properties": {
                                                    "state": {
                                                        "allOf": [
                                                            {
                                                                "properties": {
                                                                    "events": {
                                                                        "description": "List of events",
                                                                        "items": {
                                                                            "allOf": [
                                                                                {
                                                                                    "properties": {
                                                                                        "content": {
                                                                                            "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                            "title": "EventContent",
                                                                                            "type": "object"
                                                                                        },
                                                                                        "origin_server_ts": {
                                                                                            "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                            "format": "int64",
                                                                                            "type": "integer"
                                                                                        },
                                                                                        "sender": {
                                                                                            "description": "The MXID of the user who sent this event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "state_key": {
                                                                                            "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "type": {
                                                                                            "description": "The type of event.",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "unsigned": {
                                                                                            "description": "Information about this event which was not sent by the originating homeserver",
                                                                                            "properties": {
                                                                                                "age": {
                                                                                                    "description": "Time in milliseconds since the event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "prev_content": {
                                                                                                    "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "transaction_id": {
                                                                                                    "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "title": "Unsigned",
                                                                                            "type": "object"
                                                                                        }
                                                                                    },
                                                                                    "title": "Event",
                                                                                    "type": "object"
                                                                                }
                                                                            ],
                                                                            "type": "object"
                                                                        },
                                                                        "type": "array"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The state updates for the room up to the start of the timeline.",
                                                        "title": "State",
                                                        "type": "object"
                                                    },
                                                    "timeline": {
                                                        "allOf": [
                                                            {
                                                                "allOf": [
                                                                    {
                                                                        "properties": {
                                                                            "events": {
                                                                                "description": "List of events",
                                                                                "items": {
                                                                                    "allOf": [
                                                                                        {
                                                                                            "properties": {
                                                                                                "content": {
                                                                                                    "description": "The content of this event. The fields in this object will vary depending on the type of event.",
                                                                                                    "title": "EventContent",
                                                                                                    "type": "object"
                                                                                                },
                                                                                                "origin_server_ts": {
                                                                                                    "description": "Timestamp in milliseconds on originating homeserver when this event was sent.",
                                                                                                    "format": "int64",
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "sender": {
                                                                                                    "description": "The MXID of the user who sent this event.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "state_key": {
                                                                                                    "description": "Optional. This key will only be present for state events. A unique key which defines the overwriting semantics for this piece of room state.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "type": {
                                                                                                    "description": "The type of event.",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "unsigned": {
                                                                                                    "description": "Information about this event which was not sent by the originating homeserver",
                                                                                                    "properties": {
                                                                                                        "age": {
                                                                                                            "description": "Time in milliseconds since the event was sent.",
                                                                                                            "format": "int64",
                                                                                                            "type": "integer"
                                                                                                        },
                                                                                                        "prev_content": {
                                                                                                            "description": "Optional. The previous ``content`` for this state. This will be present only for state events appearing in the ``timeline``. If this is not a state event, or there is no previous content, this key will be missing.",
                                                                                                            "title": "EventContent",
                                                                                                            "type": "object"
                                                                                                        },
                                                                                                        "transaction_id": {
                                                                                                            "description": "Optional. The transaction ID set when this message was sent. This key will only be present for message events sent by the device calling this API.",
                                                                                                            "type": "string"
                                                                                                        }
                                                                                                    },
                                                                                                    "title": "Unsigned",
                                                                                                    "type": "object"
                                                                                                }
                                                                                            },
                                                                                            "title": "Event",
                                                                                            "type": "object"
                                                                                        }
                                                                                    ],
                                                                                    "type": "object"
                                                                                },
                                                                                "type": "array"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                ],
                                                                "properties": {
                                                                    "limited": {
                                                                        "description": "True if the number of events returned was limited by the ``limit`` on the filter",
                                                                        "type": "boolean"
                                                                    },
                                                                    "prev_batch": {
                                                                        "description": "If the batch was limited then this is a token that can be supplied to the server to retrieve earlier events",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ],
                                                        "description": "The timeline of messages and state changes in the\nroom up to the point when the user left.",
                                                        "title": "Timeline",
                                                        "type": "object"
                                                    }
                                                },
                                                "title": "Left Room",
                                                "type": "object"
                                            },
                                            "description": "The rooms that the user has left or been banned from.",
                                            "title": "Left rooms",
                                            "type": "object"
                                        }
                                    },
                                    "title": "Rooms",
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Synchronise the client's state and receive new messages.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/thumbnail/{serverName}/{mediaId}": {
            "get": {
                "parameters": [
                    {
                        "description": "The server name from the ``mxc://`` URI (the authoritory component)\n",
                        "in": "path",
                        "name": "serverName",
                        "required": true,
                        "type": "string",
                        "x-example": "matrix.org"
                    },
                    {
                        "description": "The media ID from the ``mxc://`` URI (the path component)\n",
                        "in": "path",
                        "name": "mediaId",
                        "required": true,
                        "type": "string",
                        "x-example": "ascERGshawAWawugaAcauga"
                    },
                    {
                        "description": "The *desired* width of the thumbnail. The actual thumbnail may not\nmatch the size specified.",
                        "in": "query",
                        "name": "width",
                        "type": "integer",
                        "x-example": 64
                    },
                    {
                        "description": "The *desired* height of the thumbnail. The actual thumbnail may not\nmatch the size specified.",
                        "in": "query",
                        "name": "height",
                        "type": "integer",
                        "x-example": 64
                    },
                    {
                        "description": "The desired resizing method.",
                        "enum": [
                            "crop",
                            "scale"
                        ],
                        "in": "query",
                        "name": "method",
                        "type": "string",
                        "x-example": "scale"
                    }
                ],
                "produces": [
                    "image/jpeg",
                    "image/png"
                ],
                "responses": {
                    "200": {
                        "description": "A thumbnail of the requested content.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the thumbnail.",
                                "enum": [
                                    "image/jpeg",
                                    "image/png"
                                ],
                                "type": "string"
                            }
                        },
                        "schema": {
                            "type": "file"
                        }
                    }
                },
                "summary": "Download a thumbnail of the content from the content repository.",
                "tags": [
                    "Media"
                ]
            }
        },
        "/tokenrefresh": {
            "post": {
                "description": "Exchanges a refresh token for a new access token.\nThis is intended to be used if the access token has expired.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "example": "{\n  \"refresh_token\": \"a1b2c3\"\n}",
                            "properties": {
                                "refresh_token": {
                                    "description": "The refresh token which was issued by the server.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "refresh_token"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The refresh token was accepted, and a new access token has been issued.\nThe passed refresh token is no longer valid and cannot be used.\nA new refresh token will have been returned unless some policy does\nnot allow the user to continue to renew their session.",
                        "examples": {
                            "application/json": "{\n  \"access_token\": \"bearwithme123\",\n  \"refresh_token\": \"exchangewithme987\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "access_token": {
                                    "description": "An access token for the account.\nThis access token can then be used to authorize other requests.\nThe access token may expire at some point, and if so, it SHOULD come with a ``refresh_token``.",
                                    "type": "string"
                                },
                                "refresh_token": {
                                    "description": "(optional) A ``refresh_token`` may be exchanged for a new ``access_token`` using the TODO Linkify /tokenrefresh API endpoint.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    },
                    "403": {
                        "description": "The exchange attempt failed. For example, the refresh token may have already been used.",
                        "examples": {
                            "application/json": "{\"errcode\": \"M_FORBIDDEN\"}"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Exchanges a refresh token for an access token.",
                "tags": [
                    "Session management"
                ]
            }
        },
        "/upload": {
            "post": {
                "parameters": [
                    {
                        "description": "The content type of the file being uploaded",
                        "in": "header",
                        "name": "Content-Type",
                        "type": "string",
                        "x-example": "Content-Type: audio/mpeg"
                    },
                    {
                        "description": "The content to be uploaded.",
                        "in": "body",
                        "name": "<content>",
                        "required": true,
                        "schema": {
                            "example": "<bytes>",
                            "format": "byte",
                            "type": "string"
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "The MXC URI for the uploaded content.",
                        "examples": {
                            "application/json": "{\n  \"content_uri\": \"mxc://example.com/AQwafuaFswefuhsfAFAgsw\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "content_uri": {
                                    "description": "The MXC URI to the uploaded content.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "content_uri"
                            ],
                            "type": "object"
                        }
                    }
                },
                "summary": "Upload some content to the content repository.",
                "tags": [
                    "Media"
                ]
            }
        },
        "/user/{userId}/account_data/{type}": {
            "put": {
                "description": "Set some account_data for the client. This config is only visible to the user\nthat set the account_data. The config will be synced to clients in the\ntop-level ``account_data``.",
                "parameters": [
                    {
                        "description": "The id of the user to set account_data for. The access token must be\nauthorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The event type of the account_data to set. Custom types should be\nnamespaced to avoid clashes.",
                        "in": "path",
                        "name": "type",
                        "required": true,
                        "type": "string",
                        "x-example": "org.example.custom.config"
                    },
                    {
                        "description": "The content of the account_data",
                        "in": "body",
                        "name": "content",
                        "required": true,
                        "schema": {
                            "example": "{\"custom_account_data_key\": \"custom_config_value\"}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The account_data was successfully added."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Set some account_data for the user.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/user/{userId}/filter": {
            "post": {
                "description": "Uploads a new filter definition to the homeserver.\nReturns a filter ID that may be used in future requests to\nrestrict which events are returned to the client.",
                "parameters": [
                    {
                        "description": "The id of the user uploading the filter. The access token must be authorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The filter to upload.",
                        "in": "body",
                        "name": "filter",
                        "required": true,
                        "schema": {
                            "allOf": [
                                {
                                    "properties": {
                                        "account_data": {
                                            "allOf": [
                                                {
                                                    "properties": {
                                                        "limit": {
                                                            "description": "The maximum number of events to return.",
                                                            "type": "integer"
                                                        },
                                                        "not_senders": {
                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "not_types": {
                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "senders": {
                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "types": {
                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "Filter",
                                                    "type": "object"
                                                }
                                            ],
                                            "description": "The user account data that isn't associated with rooms to include."
                                        },
                                        "event_fields": {
                                            "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' charaters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "event_format": {
                                            "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as receieved over federation. The default is 'client'.",
                                            "enum": [
                                                "client",
                                                "federation"
                                            ],
                                            "type": "string"
                                        },
                                        "presence": {
                                            "allOf": [
                                                {
                                                    "properties": {
                                                        "limit": {
                                                            "description": "The maximum number of events to return.",
                                                            "type": "integer"
                                                        },
                                                        "not_senders": {
                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "not_types": {
                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "senders": {
                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "types": {
                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "Filter",
                                                    "type": "object"
                                                }
                                            ],
                                            "description": "The presence updates to include."
                                        },
                                        "room": {
                                            "description": "Filters to be applied to room data.",
                                            "properties": {
                                                "account_data": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The per user account data to include for rooms."
                                                },
                                                "ephemeral": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms."
                                                },
                                                "include_leave": {
                                                    "description": "Include rooms that the user has left in the sync, default false",
                                                    "type": "boolean"
                                                },
                                                "not_rooms": {
                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "rooms": {
                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "state": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The state events to include for rooms."
                                                },
                                                "timeline": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The message and state update events to include for rooms."
                                                }
                                            },
                                            "title": "RoomFilter",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            ],
                            "example": "{\n  \"room\": {\n    \"state\": {\n      \"types\": [\"m.room.*\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\"m.room.message\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    },\n    \"ephemeral\": {\n      \"types\": [\"m.receipt\", \"m.typing\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    }\n  },\n  \"presence\": {\n    \"types\": [\"m.presence\"],\n    \"not_senders\": [\"@alice:example.com\"]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\"type\", \"content\", \"sender\"]\n}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The filter was created.",
                        "examples": {
                            "application/json": "{\n  \"filter_id\": \"66696p746572\"\n}"
                        },
                        "schema": {
                            "properties": {
                                "filter_id": {
                                    "description": "The ID of the filter that was created.",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Upload a new filter.",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/user/{userId}/filter/{filterId}": {
            "get": {
                "parameters": [
                    {
                        "description": "The user ID to download a filter for.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The filter ID to download.",
                        "in": "path",
                        "name": "filterId",
                        "required": true,
                        "type": "string",
                        "x-example": "66696p746572"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "\"The filter defintion\"",
                        "examples": {
                            "application/json": "{\n  \"room\": {\n    \"state\": {\n      \"types\": [\"m.room.*\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"]\n    },\n    \"timeline\": {\n      \"limit\": 10,\n      \"types\": [\"m.room.message\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    },\n    \"ephemeral\": {\n      \"types\": [\"m.receipt\", \"m.typing\"],\n      \"not_rooms\": [\"!726s6s6q:example.com\"],\n      \"not_senders\": [\"@spam:example.com\"]\n    }\n  },\n  \"presence\": {\n    \"types\": [\"m.presence\"],\n    \"not_senders\": [\"@alice:example.com\"]\n  },\n  \"event_format\": \"client\",\n  \"event_fields\": [\"type\", \"content\", \"sender\"]\n}"
                        },
                        "schema": {
                            "allOf": [
                                {
                                    "properties": {
                                        "account_data": {
                                            "allOf": [
                                                {
                                                    "properties": {
                                                        "limit": {
                                                            "description": "The maximum number of events to return.",
                                                            "type": "integer"
                                                        },
                                                        "not_senders": {
                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "not_types": {
                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "senders": {
                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "types": {
                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "Filter",
                                                    "type": "object"
                                                }
                                            ],
                                            "description": "The user account data that isn't associated with rooms to include."
                                        },
                                        "event_fields": {
                                            "description": "List of event fields to include. If this list is absent then all fields are included. The entries may include '.' charaters to indicate sub-fields. So ['content.body'] will include the 'body' field of the 'content' object. A literal '.' character in a field name may be escaped using a '\\\\'. A server may include more fields than were requested.",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "event_format": {
                                            "description": "The format to use for events. 'client' will return the events in a format suitable for clients. 'federation' will return the raw event as receieved over federation. The default is 'client'.",
                                            "enum": [
                                                "client",
                                                "federation"
                                            ],
                                            "type": "string"
                                        },
                                        "presence": {
                                            "allOf": [
                                                {
                                                    "properties": {
                                                        "limit": {
                                                            "description": "The maximum number of events to return.",
                                                            "type": "integer"
                                                        },
                                                        "not_senders": {
                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "not_types": {
                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "senders": {
                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "types": {
                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "title": "Filter",
                                                    "type": "object"
                                                }
                                            ],
                                            "description": "The presence updates to include."
                                        },
                                        "room": {
                                            "description": "Filters to be applied to room data.",
                                            "properties": {
                                                "account_data": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The per user account data to include for rooms."
                                                },
                                                "ephemeral": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The events that aren't recorded in the room history, e.g. typing and receipts, to include for rooms."
                                                },
                                                "include_leave": {
                                                    "description": "Include rooms that the user has left in the sync, default false",
                                                    "type": "boolean"
                                                },
                                                "not_rooms": {
                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "rooms": {
                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included. This filter is applied before the filters in ``ephemeral``, ``state``, ``timeline`` or ``account_data``",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "type": "array"
                                                },
                                                "state": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The state events to include for rooms."
                                                },
                                                "timeline": {
                                                    "allOf": [
                                                        {
                                                            "allOf": [
                                                                {
                                                                    "properties": {
                                                                        "limit": {
                                                                            "description": "The maximum number of events to return.",
                                                                            "type": "integer"
                                                                        },
                                                                        "not_senders": {
                                                                            "description": "A list of sender IDs to exclude. If this list is absent then no senders are excluded. A matching sender will be excluded even if it is listed in the ``'senders'`` filter.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "not_types": {
                                                                            "description": "A list of event types to exclude. If this list is absent then no event types are excluded. A matching type will be excluded even if it is listed in the ``'types'`` filter. A '*' can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "senders": {
                                                                            "description": "A list of senders IDs to include. If this list is absent then all senders are included.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        },
                                                                        "types": {
                                                                            "description": "A list of event types to include. If this list is absent then all event types are included. A ``'*'`` can be used as a wildcard to match any sequence of characters.",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "title": "Filter",
                                                                    "type": "object"
                                                                }
                                                            ],
                                                            "properties": {
                                                                "not_rooms": {
                                                                    "description": "A list of room IDs to exclude. If this list is absent then no rooms are excluded. A matching room will be excluded even if it is listed in the ``'rooms'`` filter.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                },
                                                                "rooms": {
                                                                    "description": "A list of room IDs to include. If this list is absent then all rooms are included.",
                                                                    "items": {
                                                                        "type": "string"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "title": "RoomEventFilter",
                                                            "type": "object"
                                                        }
                                                    ],
                                                    "description": "The message and state update events to include for rooms."
                                                }
                                            },
                                            "title": "RoomFilter",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            ],
                            "type": "object"
                        }
                    }
                },
                "summary": "Download a filter",
                "tags": [
                    "Room participation"
                ]
            }
        },
        "/user/{userId}/rooms/{roomId}/account_data/{type}": {
            "put": {
                "description": "Set some account_data for the client on a given room. This config is only\nvisible to the user that set the account_data. The config will be synced to\nclients in the per-room ``account_data``.",
                "parameters": [
                    {
                        "description": "The id of the user to set account_data for. The access token must be\nauthorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The id of the room to set account_data on.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!726s6s6q:example.com"
                    },
                    {
                        "description": "The event type of the account_data to set. Custom types should be\nnamespaced to avoid clashes.",
                        "in": "path",
                        "name": "type",
                        "required": true,
                        "type": "string",
                        "x-example": "org.example.custom.room.config"
                    },
                    {
                        "description": "The content of the account_data",
                        "in": "body",
                        "name": "content",
                        "required": true,
                        "schema": {
                            "example": "{\"custom_account_data_key\": \"custom_account_data_value\"}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The account_data was successfully added."
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Set some account_data for the user.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/user/{userId}/rooms/{roomId}/tags": {
            "get": {
                "description": "List the tags set by a user on a room.",
                "parameters": [
                    {
                        "description": "The id of the user to get tags for. The access token must be\nauthorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The id of the room to get tags for.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!726s6s6q:example.com"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The list of tags for the user for the room.",
                        "examples": {
                            "application/json": "{\n  \"tags\": {\n    \"work\": {\"order\": \"1\"},\n    \"pinned\": {}\n  }\n}"
                        },
                        "schema": {
                            "properties": {
                                "tags": {
                                    "title": "Tags",
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "List the tags for a room.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/user/{userId}/rooms/{roomId}/tags/{tag}": {
            "delete": {
                "description": "Remove a tag from the room.",
                "parameters": [
                    {
                        "description": "The id of the user to remove a tag for. The access token must be\nauthorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The id of the room to remove a tag from.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!726s6s6q:example.com"
                    },
                    {
                        "description": "The tag to remove.",
                        "in": "path",
                        "name": "tag",
                        "required": true,
                        "type": "string",
                        "x-example": "work"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The tag was successfully removed",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Remove a tag from the room.",
                "tags": [
                    "User data"
                ]
            },
            "put": {
                "description": "Add a tag to the room.",
                "parameters": [
                    {
                        "description": "The id of the user to add a tag for. The access token must be\nauthorized to make requests for this user id.",
                        "in": "path",
                        "name": "userId",
                        "required": true,
                        "type": "string",
                        "x-example": "@alice:example.com"
                    },
                    {
                        "description": "The id of the room to add a tag to.",
                        "in": "path",
                        "name": "roomId",
                        "required": true,
                        "type": "string",
                        "x-example": "!726s6s6q:example.com"
                    },
                    {
                        "description": "The tag to add.",
                        "in": "path",
                        "name": "tag",
                        "required": true,
                        "type": "string",
                        "x-example": "work"
                    },
                    {
                        "description": "Extra data for the tag, e.g. ordering.",
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "example": "{\"order\": \"1\"}",
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The tag was successfully added.",
                        "examples": {
                            "application/json": "{}"
                        },
                        "schema": {
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Add a tag to a room.",
                "tags": [
                    "User data"
                ]
            }
        },
        "/versions": {
            "get": {
                "description": "Gets the versions of the specification supported by the server.\n\nValues will take the form ``rX.Y.Z``.\n\nOnly the latest ``Z`` value will be reported for each supported ``X.Y`` value.\ni.e. if the server implements ``r0.0.0``, ``r0.0.1``, and ``r1.2.0``, it will report ``r0.0.1`` and ``r1.2.0``.",
                "responses": {
                    "200": {
                        "description": "The versions supported by the server.",
                        "examples": {
                            "application/json": "{\n  \"versions\": [\"r0.0.1\"]\n}"
                        },
                        "schema": {
                            "properties": {
                                "versions": {
                                    "description": "The supported versions.",
                                    "items": {
                                        "description": "The supported versions",
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        }
                    }
                },
                "summary": "Gets the versions of the specification supported by the server.",
                "tags": [
                    "Server administration"
                ]
            }
        },
        "/voip/turnServer": {
            "get": {
                "description": "This API provides credentials for the client to use when initiating\ncalls.",
                "responses": {
                    "200": {
                        "description": "The TURN server credentials.",
                        "examples": {
                            "application/json": "{\n  \"username\":\"1443779631:@user:example.com\",\n  \"password\":\"JlKfBy1QwLrO20385QyAtEyIv0=\",\n  \"uris\":[\n    \"turn:turn.example.com:3478?transport=udp\",\n    \"turn:10.20.30.40:3478?transport=tcp\",\n    \"turns:10.20.30.40:443?transport=tcp\"\n  ],\n  \"ttl\":86400\n}"
                        },
                        "schema": {
                            "properties": {
                                "password": {
                                    "description": "The password to use.",
                                    "type": "string"
                                },
                                "ttl": {
                                    "description": "The time-to-live in seconds",
                                    "type": "integer"
                                },
                                "uris": {
                                    "description": "A list of TURN URIs",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "username": {
                                    "description": "The username to use.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "username",
                                "password",
                                "uris",
                                "ttl"
                            ],
                            "type": "object"
                        }
                    },
                    "429": {
                        "description": "This request was rate-limited.",
                        "schema": {
                            "description": "A Matrix-level Error",
                            "properties": {
                                "errcode": {
                                    "description": "An error code.",
                                    "type": "string"
                                },
                                "error": {
                                    "description": "A human-readable error message.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "errcode"
                            ],
                            "type": "object"
                        }
                    }
                },
                "security": [
                    {
                        "accessToken": []
                    }
                ],
                "summary": "Obtain TURN server credentials.",
                "tags": [
                    "VOIP"
                ]
            }
        }
    },
    "produces": [
        "application/json"
    ],
    "securityDefinitions": {
        "accessToken": {
            "description": "The access_token returned by a call to ``/login`` or ``/tokenrefresh``",
            "in": "query",
            "name": "access_token",
            "type": "apiKey"
        }
    },
    "swagger": "2.0"
}
